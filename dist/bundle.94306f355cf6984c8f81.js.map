{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/intersects/polygon-point.js","webpack:///./node_modules/intersects/index.js","webpack:///./node_modules/intersects/line-circle.js","webpack:///./node_modules/intersects/line-point.js","webpack:///./node_modules/intersects/line-line.js","webpack:///./node_modules/intersects/box-point.js","webpack:///./node_modules/intersects/circle-point.js","webpack:///./node_modules/intersects/box-circle.js","webpack:///./node_modules/intersects/polygon-circle.js","webpack:///./node_modules/intersects/line-polygon.js","webpack:///./node_modules/intersects/polygon-polygon.js","webpack:///./node_modules/intersects/polygon-box.js","webpack:///./node_modules/intersects/line-box.js","webpack:///./node_modules/intersection/index.js","webpack:///./node_modules/line-intersection/index.js","webpack:///./assets/styles/index.scss?0cfe","webpack:///./assets/styles/index.scss","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/intersects/circle-circle.js","webpack:///./node_modules/intersects/circle-line.js","webpack:///./node_modules/intersects/circle-box.js","webpack:///./node_modules/intersects/circle-polygon.js","webpack:///./node_modules/intersects/polygon-line.js","webpack:///./node_modules/intersects/box-box.js","webpack:///./node_modules/intersects/box-line.js","webpack:///./node_modules/intersects/box-polygon.js","webpack:///./node_modules/intersects/point-box.js","webpack:///./node_modules/intersects/point-polygon.js","webpack:///./node_modules/intersects/point-circle.js","webpack:///./node_modules/intersects/point-line.js","webpack:///./node_modules/rectangles-intersect/rectangles-intersect.js","webpack:///./node_modules/line-segments-intersect/line-segments-intersect.js","webpack:///./node_modules/check-point-in-rectangle/check-point-in-rectangle.js","webpack:///./app/horde_util.js","webpack:///./app/moving_object.js","webpack:///./app/bullet.js","webpack:///./app/static_object.js","webpack:///./app/platform.js","webpack:///./app/player.js","webpack:///./app/asteroid.js","webpack:///./app/enemy.js","webpack:///./app/game.js","webpack:///./app/game_view.js","webpack:///./app/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","linePoint","points","x","y","tolerance","j","length","p2x","p2y","p1x","p1y","circlePoint","circleCircle","circleLine","circleBox","circlePolygon","polygonPoint","polygonLine","polygonPolygon","polygonBox","polygonCircle","boxPoint","boxBox","boxLine","boxPolygon","boxCircle","pointBox","pointPolygon","pointCircle","pointLine","lineLine","lineBox","linePolygon","lineCircle","dot","v1","v2","x1","y1","x2","y2","xc","yc","rc","ac","ab","ab2","h","distanceSquared","Math","sqrt","pow","xp","yp","abs","x3","y3","x4","y4","s1_x","s1_y","s2_x","s2_y","w1","h1","r1","xb","yb","wb","hb","hw","hh","distX","distY","count","points1","points2","minA","maxA","projected","minB","maxB","a","b","polygons","polygon","i1","i2","normal","w","intersection","vector","oA","segment","start","AB","end","add","sub","scalarMult","v","crossProduct","self","intersectSegments","q","cross","qmp","isParallel","isCollinear","safeIntersect","intersect","describe","pointOfIntersection","undefined","collinear","parallel","findIntersection","array","P1","P2","P3","P4","isPointBetween","findSegmentIntersection","isSegmentIntersected","content","options","hmr","transform","insertInto","locals","push","useSourceMap","list","toString","this","map","item","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","toComment","sourceURLs","sources","source","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","id","stylesInDom","isOldIE","fn","memo","apply","arguments","memoize","window","document","all","atob","getElement","target","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","nc","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","replaceText","textStore","index","replacement","filter","Boolean","cssNode","childNodes","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","r2","radii","w2","h2","linesIntersect","pointInside","rect1","rect2","some","pt1","pt2","k","pt","intPtOnSegment","fix","min","max","parseInt","seg1","seg2","precision","denominator","rect","rectArea","reduce","prev","cur","arr","dist","pos1","pos2","norm","vec","randomVec","deg","PI","random","scale","sin","cos","NORMAL_FRAME_TIME_DELTA","MovingObject","constructor","pos","vel","radius","color","game","isWrappable","isCollidedWith","collideWith","otherObject","draw","ctx","fillStyle","beginPath","arc","fill","HordeUtil","move","timeDelta","velocityScale","offsetX","offsetY","isOutOfBounds","Bullet","RADIUS","super","width","height","origin","image","Image","src","boxPos","floor","otherPos","Intersects","drawImage","viewportDiffX","SPEED","StaticObject","moveTo","lineTo","DEFAULTS","COLOR","Platform","center","circleDistance","Player","randomColor","playerMove","fireBullet","nextValidMove","drawWalk","drawIdle","drawJump","grounded","isMovingX","platformOn","facing","playerCorners","tickCount","ticksPerFrame","frameIndex","numberOfFrames","startY","loop","drawMode","lastDrawMode","alive","framesSinceDead","console","log","bullet","new_vel","nextOriginLoc","next_loc","platforms","platform","shortestPlatformSide","smallest_dist_intersected","cornerIntersect","cornerOrigin","corner","platformLines","line","pLine","LineIntersection","unit_divisor","unit_vect","unit_vect_dirs","num","new_x","new_y","collided","Number","parseFloat","toPrecision","save","translate","restore","Asteroid","randomPosition","relocate","Enemy","randomX","direction","validMove","nextLoc","Game","asteroids","bullets","players","enemies","defeatedEnemies","currentLevel","DIM_X","levels","1","DIM_Y","enemiesPerPlat","dims","2","3","4","createPlayer","checkCollisions","countEnemies","loadNextLevel","levelLost","levelComplete","resetMap","resetPlayer","setUpLevel","player","displayLossScreen","getElementById","classList","displayLevelComplete","displayGameComplete","step","delta","moveObjects","movePlayer","allObjects","allMovingObjects","enemy","clearRect","BG_COLOR","fillRect","FPS","NUM_ASTEROIDS","GameView","bindKeyHandlers","newGame","animate","determineXDiff","pause","addEventListener","keyCode","MOVES","updateUI","innerHTML","lastTime","requestAnimationFrame","time","38","37","40","39","getContext"],"mappings":"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","file":"bundle.94306f355cf6984c8f81.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 39);\n","'use strict'\n\nconst linePoint = require('./line-point')\n\n/**\n * polygon-point collision\n * based on https://stackoverflow.com/a/17490923/1955997\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n * @param {number} x of point\n * @param {number} y of point\n * @param {number} [tolerance=1] maximum distance of point to polygon's edges that triggers collision (see pointLine)\n */\nmodule.exports = function polygonPoint(points, x, y, tolerance)\n{\n    var length = points.length\n    var c = false\n    var i, j\n    for (i = 0, j = length - 2; i < length; i += 2)\n    {\n        if (((points[i + 1] > y) !== (points[j + 1] > y)) && (x < (points[j] - points[i]) * (y - points[i + 1]) / (points[j + 1] - points[i + 1]) + points[i]))\n        {\n            c = !c\n        }\n        j = i\n    }\n    if (c)\n    {\n        return true\n    }\n    for (i = 0; i < length; i += 2)\n    {\n        var p1x = points[i]\n        var p1y = points[i + 1]\n        var p2x, p2y\n        if (i === length - 2)\n        {\n            p2x = points[0]\n            p2y = points[1]\n        }\n        else\n        {\n            p2x = points[i + 2]\n            p2y = points[i + 3]\n        }\n        if (linePoint(p1x, p1y, p2x, p2y, x, y, tolerance))\n        {\n            return true\n        }\n    }\n    return false\n}\n","'use strict'\n\nmodule.exports = {\n    circlePoint: require('./circle-point'),\n    circleCircle: require('./circle-circle'),\n    circleLine: require('./circle-line'),\n    circleBox: require('./circle-box'),\n    circlePolygon: require('./circle-polygon'),\n\n    polygonPoint: require('./polygon-point'),\n    polygonLine: require('./polygon-line'),\n    polygonPolygon: require('./polygon-polygon'),\n    polygonBox: require('./polygon-box'),\n    polygonCircle: require('./polygon-circle'),\n\n    boxPoint: require('./box-point'),\n    boxBox: require('./box-box'),\n    boxLine: require('./box-line'),\n    boxPolygon: require('./box-polygon'),\n    boxCircle: require('./box-circle'),\n\n    pointBox: require('./point-box'),\n    pointPolygon: require('./point-polygon'),\n    pointCircle: require('./point-circle'),\n    pointLine: require('./point-line'),\n\n    lineLine: require('./line-line'),\n    lineBox: require('./line-box'),\n    linePolygon: require('./line-polygon'),\n    lineCircle: require('./line-circle'),\n    linePoint: require('./line-point')\n}\n","'use strict'\n\n/**\n * line-circle collision\n number @param {number} x1 point 1 of line\n number @param {number} y1 point 1 of line\n number @param {number} x2 point 2 of line\n number @param {number} y2 point 2 of line\n number @param {number} xc center of circle\n number @param {number} yc center of circle\n number @param {number} rc radius of circle\n */\nmodule.exports = function lineCircle(x1, y1, x2, y2, xc, yc, rc)\n{\n    var ac = [xc - x1, yc - y1]\n    var ab = [x2 - x1, y2 - y1]\n    var ab2 = dot(ab, ab)\n    var acab = dot(ac, ab)\n    var t = acab / ab2\n    t = (t < 0) ? 0 : t\n    t = (t > 1) ? 1 : t\n    var h = [(ab[0] * t + x1) - xc, (ab[1] * t + y1) - yc]\n    var h2 = dot(h, h)\n    return h2 <= rc * rc\n}\n\nfunction dot(v1, v2)\n{\n    return (v1[0] * v2[0]) + (v1[1] * v2[1])\n}\n","'use strict'\r\n\r\nfunction distanceSquared(x1, y1, x2, y2)\r\n{\r\n    return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2))\r\n}\r\n\r\n/**\r\n * line-point collision\r\n * from https://stackoverflow.com/a/17693146/1955997\r\n * @param {number} x1 first point in line\r\n * @param {number} y1 first point in line\r\n * @param {number} x2 second point in line\r\n * @param {number} y2 second point in line\r\n * @param {number} xp point\r\n * @param {number} yp point\r\n * @param {number} [tolerance=1]\r\n * @return {boolean}\r\n */\r\nmodule.exports = function linePoint(x1, y1, x2, y2, xp, yp, tolerance)\r\n{\r\n    tolerance = tolerance || 1\r\n    return Math.abs(distanceSquared(x1, y1, x2, y2) - (distanceSquared(x1, y1, xp, yp) + distanceSquared(x2, y2, xp, yp))) <= tolerance\r\n}","'use strict'\n\n/**\n * line-line collision\n * from http://stackoverflow.com/questions/563198/how-do-you-detect-where-two-line-segments-intersect\n * @param {number} x1 first point in line 1\n * @param {number} y1 first point in line 1\n * @param {number} x2 second point in line 1\n * @param {number} y2 second point in line 1\n * @param {number} x3 first point in line 2\n * @param {number} y3 first point in line 2\n * @param {number} x4 second point in line 2\n * @param {number} y4 second point in line 2\n * @return {boolean}\n */\nmodule.exports = function lineLine(x1, y1, x2, y2, x3, y3, x4, y4)\n{\n    var s1_x = x2 - x1\n    var s1_y = y2 - y1\n    var s2_x = x4 - x3\n    var s2_y = y4 - y3\n    var s = (-s1_y * (x1 - x3) + s1_x * (y1 - y3)) / (-s2_x * s1_y + s1_x * s2_y)\n    var t = (s2_x * (y1 - y3) - s2_y * (x1 - x3)) / (-s2_x * s1_y + s1_x * s2_y)\n    return s >= 0 && s <= 1 && t >= 0 && t <= 1\n}\n","'use strict'\n\n/**\n * box-point collision\n * @param {number} x1 top-left corner of box\n * @param {number} y1 top-left corner of box\n * @param {number} w1 width of box\n * @param {number} h1 height of box\n * @param {number} x2 of point\n * @param {number} y2 of point\n * @return {boolean}\n */\nmodule.exports = function boxPoint(x1, y1, w1, h1, x2, y2)\n{\n    return x2 >= x1 && x2 <= x1 + w1 && y2 >= y1 && y2 <= y1 + h1\n}\n","'use strict'\n\n/**\n * circle-point collision\n * @param {number} x1 center of circle\n * @param {number} y1 center of circle\n * @param {radius} r1 radius of circle\n * @param {number} x2 point\n * @param {number} y2 point\n * @return {boolean}\n */\nmodule.exports = function circlePoint(x1, y1, r1, x2, y2)\n{\n    var x = x2 - x1\n    var y = y2 - y1\n    return x * x + y * y <= r1 * r1\n}\n","'use strict'\n\n/**\n * box-circle collision\n * @param {number} xb top-left corner of box\n * @param {number} yb top-left corner of box\n * @param {number} wb width of box\n * @param {number} hb height of box\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {number} rc radius of circle\n */\nmodule.exports = function boxCircle(xb, yb, wb, hb, xc, yc, rc)\n{\n    var hw = wb / 2\n    var hh = hb / 2\n    var distX = Math.abs(xc - (xb + wb / 2))\n    var distY = Math.abs(yc - (yb + hb / 2))\n\n    if (distX > hw + rc || distY > hh + rc)\n    {\n        return false\n    }\n\n    if (distX <= hw || distY <= hh)\n    {\n        return true\n    }\n\n    var x = distX - hw\n    var y = distY - hh\n    return x * x + y * y <= rc * rc\n}\n","'use strict'\n\nvar polygonPoint = require('./polygon-point')\nvar lineCircle = require('./line-circle')\n\n\n/**\n * polygon-circle collision\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {number} rc radius of circle\n */\nmodule.exports = function polygonCircle(points, xc, yc, rc)\n{\n    if (polygonPoint(points, xc, yc))\n    {\n        return true\n    }\n    var count = points.length\n    for (var i = 0; i < count - 2; i += 2)\n    {\n        if (lineCircle(points[i], points[i + 1], points[i + 2], points[i + 3], xc, yc, rc))\n        {\n            return true\n        }\n    }\n    return lineCircle(points[0], points[1], points[count - 2], points[count - 1], xc, yc, rc)\n}\n","'use strict'\n\nvar polygonPoint = require('./polygon-point')\nvar lineLine = require('./line-line')\n\n/**\n * line-polygon collision\n number @param {number} x1 point 1 of line\n number @param {number} y1 point 1 of line\n number @param {number} x2 point 2 of line\n number @param {number} y2 point 2 of line\n number @param {number[]} points of polygon\n */\nmodule.exports = function linePolygon(x1, y1, x2, y2, points)\n{\n    var length = points.length\n\n    // check if first point is inside the shape (this covers if the line is completely enclosed by the shape)\n    if (polygonPoint(points, x1, y1))\n    {\n        return true\n    }\n\n    // check for intersections for all of the sides\n    for (var i = 0; i < length; i += 2)\n    {\n        var j = (i + 2) % length\n        if (lineLine(x1, y1, x2, y2, points[i], points[i + 1], points[j], points[j + 1]))\n        {\n            return true\n        }\n    }\n    return false\n}\n","'use strict'\n\n/**\n * polygon-polygon collision\n * based on http://stackoverflow.com/questions/10962379/how-to-check-intersection-between-2-rotated-rectangles\n * @param {number[]} points1 [x1, y1, x2, y2, ... xn, yn] of first polygon\n * @param {number[]} points2 [x1, y1, x2, y2, ... xn, yn] of second polygon\n * @return {boolean}\n */\nmodule.exports = function polygonPolygon(points1, points2)\n{\n    var a = points1\n    var b = points2\n    var polygons = [a, b]\n    var minA, maxA, projected, minB, maxB, j\n    for (var i = 0; i < polygons.length; i++)\n    {\n        var polygon = polygons[i]\n        for (var i1 = 0; i1 < polygon.length; i1 += 2)\n        {\n            var i2 = (i1 + 2) % polygon.length\n            var normal = { x: polygon[i2 + 1] - polygon[i1 + 1], y: polygon[i1] - polygon[i2] }\n            minA = maxA = null\n            for (j = 0; j < a.length; j += 2)\n            {\n                projected = normal.x * a[j] + normal.y * a[j + 1]\n                if (minA === null || projected < minA)\n                {\n                    minA = projected\n                }\n                if (maxA === null || projected > maxA)\n                {\n                    maxA = projected\n                }\n            }\n            minB = maxB = null\n            for (j = 0; j < b.length; j += 2)\n            {\n                projected = normal.x * b[j] + normal.y * b[j + 1]\n                if (minB === null || projected < minB)\n                {\n                    minB = projected\n                }\n                if (maxB === null || projected > maxB)\n                {\n                    maxB = projected\n                }\n            }\n            if (maxA < minB || maxB < minA)\n            {\n                return false\n            }\n        }\n    }\n    return true\n}\n","'use strict'\n\nvar polygonPolygon = require('./polygon-polygon')\n\n/**\n * polygon-box collision\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n * @param {number} x of box\n * @param {number} y of box\n * @param {number} w of box\n * @param {number} h of box\n */\nmodule.exports = function polygonBox(points, x, y, w, h)\n{\n    var points2 = [x, y, x + w, y, x + w, y + h, x, y + h]\n    return polygonPolygon(points, points2)\n}\n","'use strict'\n\nvar boxPoint = require('./box-point')\nvar lineLine = require('./line-line')\n\n/**\n * line-box collision\n number @param {number} x1 point 1 of line\n number @param {number} y1 point 1 of line\n number @param {number} x2 point 2 of line\n number @param {number} y2 point 2 of line\n number @param {number} xb top-left of box\n number @param {number} yb top-left of box\n number @param {number} wb width of box\n number @param {number} hb height of box\n */\nmodule.exports = function lineBox(x1, y1, x2, y2, xb, yb, wb, hb)\n{\n    if (boxPoint(xb, yb, wb, hb, x1, y1) || boxPoint(xb, yb, wb, hb, x2, y2))\n    {\n        return true\n    }\n    return lineLine(x1, y1, x2, y2, xb, yb, xb + wb, yb) ||\n        lineLine(x1, y1, x2, y2, xb + wb, yb, xb + wb, yb + hb) ||\n        lineLine(x1, y1, x2, y2, xb, yb + hb, xb + wb, yb + hb) ||\n        lineLine(x1, y1, x2, y2, xb, yb, xb, yb + hb)\n}\n","var intersection = function() {\n    var vector = {};\n    vector.oA = function(segment) {\n        return segment.start;\n    };\n    vector.AB = function(segment) {\n        var start = segment.start;\n        var end = segment.end;\n        return {x:end.x - start.x, y: end.y - start.y};\n    };\n    vector.add = function(v1,v2) {\n        return {x: v1.x + v2.x, y: v1.y + v2.y};\n    }\n    vector.sub = function(v1,v2) {\n        return {x:v1.x - v2.x, y: v1.y - v2.y};\n    }\n    vector.scalarMult = function(s, v) {\n        return {x: s * v.x, y: s * v.y};\n    }\n    vector.crossProduct = function(v1,v2) {\n        return (v1.x * v2.y) - (v2.x * v1.y);\n    };\n    var self = {};\n    self.vector = function(segment) {\n        return vector.AB(segment);\n    };\n    self.intersectSegments = function(a,b) {\n        // turn a = p + t*r where 0<=t<=1 (parameter)\n        // b = q + u*s where 0<=u<=1 (parameter) \n        var p = vector.oA(a);\n        var r = vector.AB(a);\n\n        var q = vector.oA(b);\n        var s = vector.AB(b);\n    \n        var cross = vector.crossProduct(r,s); \n        var qmp = vector.sub(q,p);\n        var numerator = vector.crossProduct(qmp, s);\n        var t = numerator / cross;\n        var intersection = vector.add(p,vector.scalarMult(t,r));\n        return intersection;\n    };\n    self.isParallel = function(a,b) {\n        // a and b are line segments. \n        // returns true if a and b are parallel (or co-linear)\n        var r = vector.AB(a);\n        var s = vector.AB(b);\n        return (vector.crossProduct(r,s) === 0);\n    };\n    self.isCollinear = function(a,b) {\n        // a and b are line segments. \n        // returns true if a and b are co-linear\n        var p = vector.oA(a);\n        var r = vector.AB(a);\n\n        var q = vector.oA(b);\n        var s = vector.AB(b);\n        return (vector.crossProduct(vector.sub(p,q), r) === 0);\n    };\n    self.safeIntersect = function(a,b) {\n        if (self.isParallel(a,b) === false) {\n            return self.intersectSegments(a,b);\n        } else {\n            return false;\n        }\n    };\n    return self;\n};\nintersection.intersectSegments = intersection().intersectSegments;\nintersection.intersect = intersection().safeIntersect;\nintersection.isParallel = intersection().isParallel;\nintersection.isCollinear = intersection().isCollinear;\nintersection.describe = function(a,b) {\n    var isCollinear = intersection().isCollinear(a,b);\n    var isParallel = intersection().isParallel(a,b);\n    var pointOfIntersection = undefined;\n    if (isParallel === false) {\n        pointOfIntersection = intersection().intersectSegments(a,b);\n    }\n    return {collinear: isCollinear,parallel: isParallel,intersection:pointOfIntersection};\n};\nexports = module.exports = intersection;\n","function findIntersection(array) {\r\n  var P1 = array[0],\r\n    P2 = array[1],\r\n    P3 = array[2],\r\n    P4 = array[3];\r\n\r\n  var x =\r\n    ((P1.x * P2.y - P2.x * P1.y) * (P3.x - P4.x) -\r\n      (P1.x - P2.x) * (P3.x * P4.y - P3.y * P4.x)) /\r\n    ((P1.x - P2.x) * (P3.y - P4.y) - (P1.y - P2.y) * (P3.x - P4.x));\r\n  var y =\r\n    ((P1.x * P2.y - P2.x * P1.y) * (P3.y - P4.y) -\r\n      (P1.y - P2.y) * (P3.x * P4.y - P3.y * P4.x)) /\r\n    ((P1.x - P2.x) * (P3.y - P4.y) - (P1.y - P2.y) * (P3.x - P4.x));\r\n  return { x: x, y: y };\r\n}\r\n\r\nfunction isPointBetween(p, a, b) {\r\n  return (\r\n    ((a.x <= p.x && p.x <= b.x) || (a.x >= p.x && p.x >= b.x)) &&\r\n    ((a.y <= p.y && p.y <= b.y) || (a.y >= p.y && p.y >= b.y))\r\n  );\r\n}\r\n\r\nfunction findSegmentIntersection(points) {\r\n  var i1 = findIntersection(points);\r\n  var P1 = points[0],\r\n    P2 = points[1],\r\n    P3 = points[2],\r\n    P4 = points[3];\r\n  const isIntersected =\r\n    isPointBetween(i1, P1, P2) && isPointBetween(i1, P3, P4);\r\n  return isIntersected ? i1 : false;\r\n}\r\n\r\nfunction isSegmentIntersected(points) {\r\n  var i1 = findIntersection(points);\r\n  var P1 = points[0],\r\n    P2 = points[1],\r\n    P3 = points[2],\r\n    P4 = points[3];\r\n  return isPointBetween(i1, P1, P2) && isPointBetween(i1, P3, P4);\r\n}\r\n\r\nexports.findIntersection = findIntersection;\r\nexports.isPointBetween = isPointBetween;\r\nexports.findSegmentIntersection = findSegmentIntersection;\r\nexports.isSegmentIntersected = isSegmentIntersected;\r\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--6-1!../../node_modules/sass-loader/lib/loader.js??ref--6-2!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--6-1!../../node_modules/sass-loader/lib/loader.js??ref--6-2!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--6-1!../../node_modules/sass-loader/lib/loader.js??ref--6-2!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body{background-color:black;padding:0;margin:0}body,h1,h2,h3,h4,a,p,div,span{text-shadow:1px 1px 5px black;font-family:'Press Start 2P', cursive;letter-spacing:4px;text-shadow:-1px 0 0 #fdff2a, -2px 0 0 #df4a42, 1px 0 0 #91fcfe, 2px 0 0 #4405fc}#game-head{width:100%;height:140px;display:flex;flex-direction:row;justify-content:space-around;align-items:center}#game-head .game-logo{display:flex;justify-content:center;align-items:center;width:65%;height:140px;font-weight:600}#game-head .game-logo h1{text-align:center;font-size:50px;font-weight:700;color:white}#game-head .game-logo a{text-decoration:none}#game-head .contact{height:140px;width:15%;margin:5%;display:flex;flex-direction:column;justify-content:center;align-items:center}#game-head .contact h2{font-size:30px;font-weight:600;margin:10px 0px 10px 0px;color:white}#game-head .contact a{border-radius:50%;height:35px;width:35px;background-color:white;text-decoration:none;display:flex;justify-content:center;align-items:center;flex-grow:1 0 40%;transition:0.5s}#game-head .contact a:hover{background-color:yellow}#game-head .contact a .contact-icon{font-size:20px;color:black;text-shadow:none;letter-spacing:0}#game-head .contact .contact-icons-div{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;width:100%;height:50px}#game-head .contact .contact-icons-div a{margin:10px}#game-body{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%}#game-body .directions{width:15%;text-align:center;color:white}#game-body .directions h2{margin-bottom:40px}#game-body .directions p{margin:25px 0px}#game-body .game{width:55%;height:600px;display:flex;justify-content:center;margin:0% 2%}#game-body #start-screen{width:600px;height:600px;background-color:black;display:flex;align-items:center}#game-body #start-screen #start{border-top:4px solid white;border-bottom:4px solid white;text-align:center;height:100px;width:100%;display:flex;align-items:center;justify-content:center;color:white;font-size:45px;font-weight:600;transition:1s background-color;-webkit-animation:bgcolorchange 4s infinite;animation:4s infinite bgcolorchange}@keyframes bgcolorchange{0%{color:white}25%{color:red}50%{color:blue}75%{color:purple}100%{color:white}}@-webkit-keyframes bgcolorchange{0%{color:white}25%{color:red}50%{color:blue}75%{color:purple}100%{color:white}}#game-body #start-screen #start:hover{background-color:#003c00}#game-body canvas{position:absolute}#game-body .game-meta-info{width:800px;padding-top:20px;position:absolute;display:flex;justify-content:space-around;align-items:center;color:white;z-index:5}#game-body .game-meta-info .game-meta-segment{width:30%;display:flex;flex-direction:column;justify-content:space-around;align-items:center}#game-body .game-meta-info .game-meta-segment h3{font-weight:500;font-size:16px;text-align:center;margin:0 auto;margin-bottom:10px}#game-body .game-meta-info .game-meta-segment span{font-weight:500;font-size:18px}#game-body .game-controls{height:500px;display:flex;flex-direction:column;justify-content:center;align-items:center;width:15%;color:white}#game-body .game-controls h1{text-align:center;font-size:22px}#game-body .game-dash{display:flex;flex-direction:row;justify-content:space-around;width:100%;margin:25px 0px}#game-body .game-dash i{font-size:30px}#game-body .game-button{border:1px solid blue;padding:10px;border-radius:25px;width:150px;font-size:18px;margin:15px;transition:color 0.5s}#game-body .game-icon{color:white}#game-body .game-button:hover{color:white;background-color:blue;border:2px solid white}.level-overlay{position:absolute;height:600px;width:800px;background-color:black;opacity:0.7;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;z-index:10}.next-button{display:flex;justify-content:center;align-items:center;width:250px;height:100px;border-radius:25px;border:1px solid blue;margin-top:100px;color:white;font-size:25px}.next-button:hover{color:blue;background-color:white}.complete-message{padding:30px;font-size:30px;width:90%;height:100px;color:white;display:flex;align-items:center;justify-content:center}.hidden{display:none !important}\\n\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","'use strict'\n\n\n/**\n * circle-circle collision\n * @param {number} x1 center of circle 1\n * @param {number} y1 center of circle 1\n * @param {number} r1 radius of circle 1\n * @param {number} x2 center of circle 2\n * @param {number} y2 center of circle 2\n * @param {number} r2 radius of circle 2\n * @return {boolean}\n */\nmodule.exports = function circleCircle(x1, y1, r1, x2, y2, r2)\n{\n    var x = x1 - x2\n    var y = y2 - y1\n    var radii = r1 + r2\n    return x * x + y * y <= radii * radii\n}\n","'use strict'\n\nvar lineCircle = require('./line-circle')\n\n/**\n * circle-line collision\n * from http://stackoverflow.com/a/10392860/1955997\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} x1 first point of line\n * @param {number} y1 first point of line\n * @param {number} x2 second point of line\n * @param {number} y2 second point of line\n * @return {boolean}\n */\nmodule.exports = function circleLine(xc, yc, rc, x1, y1, x2, y2)\n{\n    return lineCircle(x1, y1, x2, y2, xc, yc, rc)\n}\n","'use strict'\n\nvar boxCircle = require('./box-circle')\n\n/**\n * circle-box (axis-oriented rectangle) collision\n * from http://stackoverflow.com/a/402010/1955997\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} xb top-left corner of rectangle\n * @param {number} yb top-left corner of rectangle\n * @param {number} wb width of rectangle\n * @param {number} hb height of rectangle\n */\nmodule.exports = function circleBox(xc, yc, rc, xb, yb, wb, hb)\n{\n    return boxCircle(xb, yb, wb, hb, xc, yc, rc)\n}\n","'use strict'\n\nvar polygonCircle = require('./polygon-circle')\n\n/**\n * circle-polygon collision\n * from http://stackoverflow.com/a/402019/1955997\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n */\nmodule.exports = function circlePolygon(xc, yc, rc, points)\n{\n    return polygonCircle(points, xc, yc, rc)\n}\n","'use strict'\n\nvar linePolygon = require('./line-polygon')\n\n/**\n * polygon-line collisions\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n * @param {number} x1 first point in line\n * @param {number} y1 first point in line\n * @param {number} x2 second point in line\n * @param {number} y2 second point in line\n * @return {boolean}\n */\nmodule.exports = function polygonLine(points, x1, y1, x2, y2)\n{\n    return linePolygon(x1, y1, x2, y2, points)\n}\n","'use strict'\n\n/**\n * box-box collision\n * @param {number} x1 top-left corner of first box\n * @param {number} y1 top-left corner of first box\n * @param {number} w1 width of first box\n * @param {number} h1 height of first box\n * @param {number} x2 top-left corner of second box\n * @param {number} y2 top-left corner of second box\n * @param {number} w2 width of second box\n * @param {number} h2 height of second box\n */\nmodule.exports = function boxBox(x1, y1, w1, h1, x2, y2, w2, h2)\n{\n    return x1 < x2 + w2 && x1 + w1 > x2 && y1 < y2 + h2 && y1 + h1 > y2\n}\n","'use strict'\n\nvar lineBox = require('./line-box')\n\n/**\n * box-line collision\n * @param {number} xb top-left corner of box\n * @param {number} yb top-left corner of box\n * @param {number} wb width of box\n * @param {number} hb height of box\n * @param {number} x1 first point of line\n * @param {number} y1 first point of line\n * @param {number} x2 second point of line\n * @param {number} y2 second point of line\n */\nmodule.exports = function boxLine(xb, yb, wb, hb, x1, y1, x2, y2)\n{\n    return lineBox(x1, y1, x2, y2, xb, yb, wb, hb)\n}\n","'use strict'\n\nvar polygonBox = require('./polygon-box')\n\n/**\n * box-polygon collision\n * @param {number} xb top-left corner of box\n * @param {number} yb top-left corner of box\n * @param {number} wb width of box\n * @param {number} hb height of box\n * @param {number[]} points of polygon\n */\nmodule.exports = function boxPolygon(xb, yb, wb, hb, points)\n{\n    return polygonBox(points, xb, yb, wb, hb)\n}\n","'use strict'\n\nvar boxPoint = require('./box-point')\n\n/**\n * point-box collision\n * @param {number} x1 point\n * @param {number} y1 point\n * @param {number} xb top-left corner of box\n * @param {number} yb top-left corner of box\n * @param {number} wb width of box\n * @param {number} hb height of box\n * @return {boolean}\n */\nmodule.exports = function pointBox(x1, y1, xb, yb, wb, hb)\n{\n    return boxPoint(xb, yb, wb, hb, x1, y1)\n}\n","'use strict'\n\nvar polygonPoint = require('./polygon-point')\n\n/**\n * polygon-point collision\n * based on https://stackoverflow.com/a/17490923/1955997\n * @param {number} x1\n * @param {number} y1\n * @param {number[]} points\n * @param {number} [tolerance=1] maximum distance of point to polygon's edges that triggers collision (see pointLine)\n * @return {boolean}\n */\nmodule.exports = function pointPolygon(x1, y1, points, tolerance)\n{\n    return polygonPoint(points, x1, y1, tolerance)\n}\n","'use strict'\n\nvar circlePoint = require('./circle-point')\n\nmodule.exports = function pointCircle(x1, y1, xc, yc, rc)\n{\n    return circlePoint(xc, yc, rc, x1, y1)\n}\n","'use strict'\n\nvar linePoint = require('./line-point')\n\n/**\n * point-line collision\n * @param {number} xp point\n * @param {number} yp point\n * @param {number} x1 first point in line\n * @param {number} y1 first point in line\n * @param {number} x2 second point in line\n * @param {number} y2 second point in line\n * @return {boolean}\n */\nmodule.exports = function pointLine(xp, yp, x1, y1, x2, y2)\n{\n    return linePoint(x1, y1, x2, y2, xp, yp)\n}\n","// rectangles-intersect.js\n// two rectangles (non aligned to axis) intersects or not\nvar linesIntersect = require('line-segments-intersect'),\n  pointInside = require('check-point-in-rectangle');\n\nfunction intersects(rect1,rect2) {\n  var intersect = rect1.some(function(pt1,i,r1) {\n    //check intersection of any seg or rect1 to any seg of rect2\n    var j = i == r1.length-1 ? 0 : i+1;\n    return rect2.some(function(pt2,k,r2) {\n      var l = k == r2.length-1 ? 0 : k+1;\n      return linesIntersect([r1[i], r1[j]], [r2[k], r2[l]]);\n    });\n  });\n  if(!intersect) {\n    // check one rectangle contains another\n    intersect = rect2.some(function(pt) {\n      return pointInside(pt, rect1);\n    }) ||\n    rect1.some(function(pt) {\n      return pointInside(pt, rect2);\n    });\n  }\n  return intersect;\n}\n\nmodule.exports = intersects;\n","// line-segments-intersect.js \n// intersection point https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection\n// line 1: x1,y1,x2,y2\n// line 2: x3,y3,x4,y4\n// for comparing the float number, fixing the number to int to required \n// precision\nfunction linesIntersect(seg1, seg2, precision) {\n  var x1 = seg1[0][0],\n    y1 = seg1[0][1],\n    x2 = seg1[1][0],\n    y2 = seg1[1][1],\n    x3 = seg2[0][0],\n    y3 = seg2[0][1],\n    x4 = seg2[1][0],\n    y4 = seg2[1][1],\n    intPt,x,y,result = false, \n    p = precision || 6,\n    denominator = (x1 - x2)*(y3 - y4) - (y1 -y2)*(x3 - x4);\n  if (denominator == 0) {\n    // check both segments are Coincident, we already know \n    // that these two are parallel \n    if (fix((y3 - y1)*(x2 - x1),p) == fix((y2 -y1)*(x3 - x1),p)) {\n      // second segment any end point lies on first segment\n      result = intPtOnSegment(x3,y3,x1,y1,x2,y2,p) ||\n        intPtOnSegment(x4,y4,x1,y1,x2,y2,p);\n    }\n  } else {\n    x = ((x1*y2 - y1*x2)*(x3 - x4) - (x1 - x2)*(x3*y4 - y3*x4))/denominator;\n    y = ((x1*y2 - y1*x2)*(y3 - y4) - (y1 - y2)*(x3*y4 - y3*x4))/denominator;\n    // check int point (x,y) lies on both segment \n    result = intPtOnSegment(x,y,x1,y1,x2,y2,p) \n      && intPtOnSegment(x,y,x3,y3,x4,y4,p);\n  }\n  return result;\n} \n\nfunction intPtOnSegment(x,y,x1,y1,x2,y2,p) {\n  return fix(Math.min(x1,x2),p) <= fix(x,p) && fix(x,p) <= fix(Math.max(x1,x2),p) \n    && fix(Math.min(y1,y2),p) <= fix(y,p) && fix(y,p) <= fix(Math.max(y1,y2),p); \n}\n\n// fix to the precision\nfunction fix(n,p) {\n  return parseInt(n * Math.pow(10,p));\n}\n\nmodule.exports = linesIntersect;\n","// check-point-in-rectangle.js\n// check point intersects with rectangle\n// http://martin-thoma.com/how-to-check-if-a-point-is-inside-a-rectangle/\nfunction pointInRect(pt,rect,precision) {\n  var p = precision || 6;\n  var rectArea = 0.5*Math.abs(\n    (rect[0][1] - rect[2][1]) * (rect[3][0] - rect[1][0])\n    + (rect[1][1] - rect[3][1]) * (rect[0][0] - rect[2][0])\n  );\n  var triangleArea = rect.reduce(function(prev,cur, i, arr) {\n    var j = i == arr.length-1 ? 0 : i+1;\n    return prev + 0.5*Math.abs(\n      pt[0] * (arr[i][1] - arr[j][1])\n      + arr[i][0] * (arr[j][1] - pt[1])\n      + arr[j][0] * (pt[1] - arr[i][1])\n    );\n  }, 0);\n  return fix(triangleArea,p) == fix(rectArea,p);\n}\n// fix to the precision\nfunction fix(n,p) {\n  return parseInt(n * Math.pow(10,p));\n};\n\nmodule.exports = pointInRect;\n","export const dir = (vec) => {\n    const norm = norm(vec);\n    return scale(vec, 1 / norm);\n}\n\nexport const dist = (pos1, pos2) => {\n    return Math.sqrt(\n        Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n}\n\nexport const norm = (vec) => {\n    return dist([0, 0], vec);\n}\n\nexport const randomVec = (length) => {\n    const deg = 2 * Math.PI * Math.random();\n    return scale([Math.sin(deg), Math.cos(deg)], length);\n}\n\nexport const scale = (vec, m) => {\n    return [vec[0] * m, vec[1] * m];\n}\n\nexport const wrap = (coord, max) => {\n    if (coord < 0) {\n        return max - (coord % max);\n    } else if (coord > max) {\n        return coord % max;\n    } else {\n        return coord;\n    }\n}\n","import * as HordeUtil from './horde_util';\n\nclass MovingObject {\n    constructor(options) {\n        this.pos = options.pos;\n        this.vel = options.vel;\n        this.radius = options.radius;\n        this.color = options.color;\n        this.game = options.game;\n        this.isWrappable = true;\n\n        this.isCollidedWith = this.isCollidedWith.bind(this);\n    }\n\n    collideWith(otherObject) {\n        // default do nothing\n    }\n\n    draw(ctx) {\n        ctx.fillStyle = this.color;\n        ctx.beginPath();\n        ctx.arc(\n            this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n        );\n        ctx.fill();\n    }\n\n    isCollidedWith(otherObject) {\n        const centerDist = HordeUtil.dist(this.pos, otherObject.pos);\n        return centerDist < (this.radius + otherObject.radius);\n    }\n\n    move(timeDelta) {\n        const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n            offsetX = this.vel[0] * velocityScale,\n            offsetY = this.vel[1] * velocityScale;\n\n        this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n        if (this.game.isOutOfBounds(this.pos)) {this.remove();}\n        // if (this.game.isOutOfBounds(this.pos)) {\n        //     if (this.isWrappable) {\n        //         this.pos = this.game.wrap(this.pos);\n        //     } else {\n        //         this.remove();\n        //     }\n        // }\n    }\n\n    remove() {\n        this.game.remove(this);\n    }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nexport default MovingObject;\n","import MovingObject from './moving_object';\nimport Intersects from 'intersects';\n\nclass Bullet extends MovingObject {\n    constructor(options) {\n        options.radius = Bullet.RADIUS;\n        super(options);\n        this.isWrappable = false;\n        this.width = 15;\n        this.height = 15;\n        this.origin = options.origin;\n\n        this.image = new Image();\n        this.image.src = \"../images/M484BulletCollection1.png\";\n\n        this.isCollidedWith = this.isCollidedWith.bind(this);\n    }\n\n    isCollidedWith(otherObject) {\n      if (otherObject != this.origin){\n        let boxPos = [Math.floor(this.pos[0]), Math.floor(this.pos[1])];\n        let otherPos = [Math.floor(otherObject.pos[0]), Math.floor(otherObject.pos[1])];\n\n        return Intersects.boxBox(boxPos[0], boxPos[1], this.width, this.height,\n        otherPos[0], otherPos[1], otherObject.width, otherObject.height)\n      }\n      return false;\n    }\n\n    draw() {\n      ctx.drawImage(this.image,\n        251,\n        325,\n        20,\n        20,\n        this.pos[0] + this.game.viewportDiffX,\n        this.pos[1],\n        this.width,\n        this.height);\n    }\n}\n\nBullet.RADIUS = 2;\nBullet.SPEED = 15;\n\nexport default Bullet;\n","import HordeUtil from './horde_util';\n\nclass StaticObject {\n    constructor(options) {\n        this.pos = options.pos;\n        this.width = options.width;\n        this.height = options.height;\n        this.color = options.color;\n        this.game = options.game;\n        this.isWrappable = true;\n    }\n\n    collideWith(otherObject) {\n        // default do nothing\n    }\n\n    draw(ctx) {\n        ctx.fillStyle = this.color;\n        ctx.beginPath();\n        // ctx.arc(\n        //     this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n        // );\n\n        let x = this.pos[0];\n        let y = this.pos[1];\n\n        ctx.moveTo(x , y);\n        ctx.lineTo(x + this.width, y);\n        ctx.lineTo(x + this.width, y + this.height);\n        ctx.lineTo(x, y + this.height);\n        ctx.lineTo(x, y);\n        ctx.fill();\n    }\n\n    // isCollidedWith(otherObject) {\n    //     // if (otherObject instanceof Player || otherObject instanceof Player  )\n    //     const centerDist = HordeUtil.dist(this.pos, otherObject.pos);\n    //     return centerDist < (this.radius + otherObject.radius);\n    // }\n\n    // move(timeDelta) {\n    //     // timeDelta is number of milliseconds since last move\n    //     // if the computer is busy the time delta will be larger\n    //     // in this case the MovingObject should move farther in this frame\n    //     // velocity of object is how far it should move in 1/60th of a second\n    //     // const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n    //     //     offsetX = this.vel[0] * velocityScale,\n    //     //     offsetY = this.vel[1] * velocityScale;\n    //\n    //     this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    //\n    //     if (this.game.isOutOfBounds(this.pos)) {\n    //         if (this.isWrappable) {\n    //             this.pos = this.game.wrap(this.pos);\n    //         } else {\n    //             this.remove();\n    //         }\n    //     }\n    // }\n\n    remove() {\n        this.game.remove(this);\n    }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nexport default StaticObject;\n","import * as HordeUtil from \"./horde_util\";\nimport StaticObject from './static_object';\nimport Player from './player';\nimport Bullet from './bullet';\n\nconst DEFAULTS = {\n    COLOR: \"#ff0000\",\n    RADIUS: 25,\n    SPEED: 4\n};\n\nclass Platform extends StaticObject {\n    constructor(options = {}) {\n        options.color = DEFAULTS.COLOR;\n        options.pos = options.pos;\n        options.height = 50;\n        // options.radius = DEFAULTS.RADIUS;\n        // options.vel = options.vel || HordeUtil.randomVec(DEFAULTS.SPEED);\n        // console.log('creating platform' , options);\n        super(options);\n\n        this.image = new Image();\n        this.image.src = \"../images/platform_ground.png\";\n        // this.pos = options.pos;\n        this.center = [this.pos[0] + options.width/2, this.pos[1] + options.height/2];\n    }\n\n    draw(ctx){\n      ctx.drawImage(this.image,\n        0,0, 100, 20,\n        this.pos[0] + this.game.viewportDiffX, this.pos[1], this.width, this.height);\n    }\n\n    collideWith(otherObject) {\n        // if (otherObject instanceof Player) {\n        //     otherObject.relocate();\n        //     return true;\n        // } else if (otherObject instanceof Bullet) {\n        //     this.remove();\n        //     otherObject.remove();\n        //     return true;\n        // }\n        //\n        return false;\n    }\n\n    isCollidedWith(otherObject) {\n      // if (otherObject instanceof Player || otherObject instanceof Player  )\n      // const centerDist = HordeUtil.dist(this.pos, otherObject.pos);\n      // return centerDist < (this.radius + otherObject.radius);\n      // if (otherObject instanceof Player) {\n      //   let y_diff = this.pos[1] - otherObject.pos[1];\n      //   if (y_diff < otherObject.height){\n      //     return true;\n      //   }\n      //   return false;s\n      //\n      // } else {\n      // let top =\n      // let bottom\n      // let cpos = otherObject.pos\n      let circleDistance = {};\n\n      circleDistance.x = Math.abs(otherObject.pos[0] - this.center[0]);\n      circleDistance.y = Math.abs(otherObject.pos[1] - this.center[1]);\n\n      if (circleDistance.x > (this.width/2 + otherObject.radius)) { return false; }\n      if (circleDistance.y > (this.height/2 + otherObject.radius)) { return false; }\n\n      if (circleDistance.x <= (this.width/2)) { return true; }\n      if (circleDistance.y <= (this.height/2)) { return true; }\n\n      let cornerDistance_sq = (circleDistance.x - this.width/2)^2 + (circleDistance.y - this.height/2)^2;\n      return (cornerDistance_sq <= (otherObject.radius^2));\n      // // if()\n      //   let y_diff = this.pos[1] - otherObject.pos[1];\n      //   if (y_diff < otherObject.radius){\n      //     return true;\n      //   }\n      //   return false;\n      // // }\n    }\n}\n\nexport default Platform;\n","// import StaticObject from './environment';\nimport MovingObject from './moving_object';\nimport * as HordeUtil from \"./horde_util\";\nimport Bullet from './bullet';\nimport Platform from './platform';\nimport Intersection from 'intersection';\nimport LineIntersection from 'line-intersection';\nimport intersects from 'rectangles-intersect';\n\nfunction randomColor() {\n    const hexDigits = \"0123456789ABCDEF\";\n\n    let color = \"#\";\n    for (let i = 0; i < 3; i++) {\n        color += hexDigits[Math.floor((Math.random() * 16))];\n    }\n\n    return color;\n}\n\nclass Player extends MovingObject {\n  constructor(options) {\n      // options.radius = Player.RADIUS;\n      options.width = 50;\n      options.height = 50;\n      options.vel = [0, 1];\n      options.color = options.color || randomColor();\n      super(options);\n\n      this.move = this.move.bind(this);\n      this.isCollidedWith = this.isCollidedWith.bind(this);\n      this.playerMove = this.playerMove.bind(this);\n      this.fireBullet = this.fireBullet.bind(this);\n      this.nextValidMove = this.nextValidMove.bind(this);\n      this.draw = this.draw.bind(this);\n      this.drawWalk = this.drawWalk.bind(this);\n      this.drawIdle = this.drawIdle.bind(this);\n      this.drawJump = this.drawJump.bind(this);\n      this.grounded = false;\n      this.width = options.width;\n      this.height = options.height;\n      this.isMovingX = false;\n      this.platformOn = null;\n\n      this.facing = 1; //1 is facing right\n      this.playerCorners = [\n        this.pos, [this.pos[0] + this.width, this.pos[1] ],\n        [this.pos[0] + this.width, this.pos[1] + this.height ],\n        [this.pos[0], this.pos[1] + this.height]\n      ];\n\n      this.image = new Image();\n      this.image.src = \"../images/hero_spritesheet.png\";\n\n      this.tickCount = 0;\n      this.ticksPerFrame = 4;\n      this.frameIndex = 0;\n      this.numberOfFrames = 8\n      this.startY = 10;\n      this.loop = options.loop;\n      this.drawMode = 'idle';\n      this.lastDrawMode = 'idle';\n\n      this.update = this.update.bind(this);\n\n      this.alive = true;\n      this.framesSinceDead = null;\n   }\n\n  update(){\n    this.tickCount += 1;\n\n    if (this.drawMode != this.lastDrawMode){\n      this.frameIndex = 0;\n      this.lastDrawMode = this.drawMode;\n    }\n\n    if (this.tickCount > this.ticksPerFrame) {\n    \tthis.tickCount = 0;\n\n      // If the current frame index is in range\n      if (this.frameIndex < this.numberOfFrames - 1) {\n          // Go to the next frame\n          this.frameIndex += 1;\n      } else {\n          this.frameIndex = 0;\n      }\n    }\n  }\n\n  fireBullet() {\n      const norm = HordeUtil.norm(this.vel);\n\n      console.log('facing is', this.facing)\n      const bullet = new Bullet({\n          pos: [this.pos[0] + this.width/2, this.pos[1] + this.height/2],\n          vel: [this.facing * 8, 0],\n          color: this.color,\n          game: this.game,\n          origin: this\n      });\n\n      this.game.add(bullet);\n  }\n\n  playerMove(move) {\n    // MOVING VERTICALLY\n    if (move[0] === 0){\n      if (this.grounded && move[1] < 0){\n        // console.log('jump', jump)\n        let new_vel = move[1] * 17;\n        this.vel[1] = Math.min(30, new_vel);\n      }\n    } else if (move[1] === 0) {\n      // MOVING HORIZONTALLY\n      this.vel[0] = move[0] * 4;\n\n      //Change orientation\n      if (this.facing > 0 && move[0] < 0){\n        // console.log('change facing');\n        this.facing = -1;\n      } else if (this.facing < 0 && move[0] > 0){\n        this.facing = 1;\n      }\n    }\n  }\n\n  nextValidMove(offsetX, offsetY){\n    let collided = false;\n    // determine next location. If grounded, not jumping, and\n    // moving horizontally, adjust\n    let nextOriginLoc = [Math.floor(this.pos[0] + offsetX), Math.floor(this.pos[1] + offsetY)];\n\n    if(this.platformOn != null && ((this.platformOn.pos[0] > this.pos[0] &&\n        this.platformOn.pos[0] > (this.pos[0] + this.width)) ||\n        ((this.platformOn.pos[0] + this.platformOn.width) < this.pos[0] &&\n        (this.platformOn.pos[0] + this.platformOn.width) < (this.pos[0] + this.width)))) {\n          this.grounded = false;\n    } else if (this.grounded && this.vel[0] === 0 && this.vel[1] > 0) {\n      return this.pos;\n    } else {\n      this.grounded = false;\n      this.platformOn = null;\n    }\n\n    console.log('this pos', this.pos);\n    console.log('next pos', nextOriginLoc );\n    console.log('velocity', this.vel);\n    let next_loc = '';\n\n    let playerCorners = [\n      [Math.floor(this.pos[0]),Math.floor(this.pos[1])],\n      [Math.floor(this.pos[0] + this.width), Math.floor(this.pos[1])],\n      [Math.floor(this.pos[0] + this.width), Math.floor(this.pos[1] + this.height)],\n      [Math.floor(this.pos[0]), Math.floor(this.pos[1] + this.height)]\n    ];\n\n    // find all the platforms and iterate through them\n    let platforms = this.game.platforms;\n\n    for (let i = 0; i < platforms.length; i++) {\n      let platform = platforms[i];\n\n      let shortestPlatformSide = [];\n      let smallest_dist_intersected = '';\n      let cornerIntersect = '';\n      let cornerOrigin = '';\n\n      // for each platform, check all corners\n      for (let j = 0; j < playerCorners.length; j++){\n        let corner = playerCorners[j];\n\n        let platformLines = [\n          [[platform.pos[0], platform.pos[1]], [platform.pos[0] + platform.width, platform.pos[1]], { x: 0, y: -1}, 'top'],\n          [[platform.pos[0] + platform.width, platform.pos[1]], [platform.pos[0] + platform.width, platform.pos[1] + platform.height], { x: 1, y: 0}, 'right'],\n          [[platform.pos[0] + platform.width, platform.pos[1] + platform.height], [platform.pos[0], platform.pos[1] + platform.height], { x: 0, y: 1}, 'bottom'],\n          [[platform.pos[0], platform.pos[1]], [platform.pos[0], platform.pos[1]+ platform.height], { x: -1, y: 0}, 'left']\n        ];\n\n        if (this.grounded && this.vel[1] > 0 && this.vel[0] != 0){\n          next_loc = [Math.floor(corner[0] + offsetX), Math.floor(corner[1])];\n        } else {\n          next_loc = [Math.floor(corner[0] + offsetX), Math.floor(corner[1] + offsetY)];\n        }\n\n        // Iterate through sides for intersections\n        for (let k = 0; k < platformLines.length; k++){\n          let line = platformLines[k];\n\n          let pLine = [Math.floor(line[0][0]), Math.floor(line[0][1]),\n              Math.floor(line[1][0]), Math.floor(line[1][1])];\n\n          let intersection = LineIntersection.findSegmentIntersection([\n            { x: corner[0], y: corner[1]},\n            { x: next_loc[0], y: next_loc[1]},\n            { x: pLine[0], y: pLine[1]},\n            { x: pLine[2], y: pLine[3]}\n          ]);\n\n          if (intersection != false){\n            let dist = Math.abs(\n              ((intersection.x - corner[0])^2 + (intersection.y - corner[1])^2)^(1/2)\n            );\n\n            if (smallest_dist_intersected === \"\"  || dist < smallest_dist_intersected){\n              shortestPlatformSide  = line;\n              cornerIntersect = intersection;\n              smallest_dist_intersected = dist;\n              cornerOrigin = corner;\n            }\n          }\n        };\n      };\n\n      console.log('cornerIntersect', cornerIntersect);\n\n      if (cornerIntersect != '') {\n        // find shortest distance from intersect\n        // let unit_divisor = ((this.vel[0])^2 + (this.vel[1])^2)^(1/2);\n        let unit_divisor = Math.pow((Math.pow(this.vel[0], 2) + Math.pow(this.vel[1], 2)), .5);\n        let unit_vect = [(0 - this.vel[0])/unit_divisor, (0 - this.vel[1])/unit_divisor];\n        let unit_vect_dirs = [];\n\n        unit_vect.forEach(num => {\n          if (num != 0){\n            unit_vect_dirs.push(num/Math.abs(num));\n          } else {\n            unit_vect_dirs.push(0);\n          }\n        });\n\n        // Intersect +/- unit vector +/- adjustment to avoid collision\n        console.log('unit vector x', unit_vect[0]);\n        console.log('unit vector y', unit_vect[1]);\n\n        let new_x = cornerIntersect.x + unit_vect_dirs[0]\n        let new_y = cornerIntersect.y + unit_vect_dirs[1]\n\n        //adjust next_loc based on corner\n        // debugger\n        switch(cornerOrigin) {\n          case(playerCorners[0]):\n          // console.log('top-left');\n          next_loc = [new_x, new_y];\n          break;\n          case(playerCorners[1]):\n          // console.log('top-right');\n          next_loc = [new_x - this.width, new_y];\n          break;\n          case(playerCorners[2]):\n          // console.log('bottom-right');\n          next_loc = [new_x - this.width, new_y - this.height];\n          break;\n          case(playerCorners[3]):\n          // console.log('bottom-left');\n          next_loc = [new_x, new_y - this.height];\n          break;\n        }\n\n        switch(shortestPlatformSide[3]){\n          case 'top':\n            this.vel[1] = 1;\n            this.grounded = true;\n            break;\n          case 'right':\n            this.vel[0] = 0;\n            break;\n          case 'bottom':\n            this.vel[1] = 1;\n            break;\n          case 'left':\n            this.vel[0] = 0;\n            break;\n          default:\n            break;\n        }\n\n        this.platformOn = platform;\n        this.collided = true;\n        return next_loc;\n\n      }\n    }\n    // there were no collisions, so return next_loc as is\n    return nextOriginLoc;\n  };\n\n  move(timeDelta) {\n    this.update();\n\n    let terminal_vel_Y = 15;\n    let deceleration_Y = 1;\n    let deceleration_X = 0.3;\n\n    //GRAVITY - Vertical Deceleration\n    if (this.vel[1] < terminal_vel_Y && this.grounded === false) {\n      this.vel[1] += deceleration_Y;\n    }\n\n    if (this.isMovingX === false) {\n      this.vel[0] = 0;\n    }\n\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n    offsetX = Number(Number.parseFloat(this.vel[0] * velocityScale).toPrecision(3)),\n    offsetY =  Number(Number.parseFloat(this.vel[1] * velocityScale).toPrecision(3));\n\n    this.pos = this.nextValidMove(offsetX, offsetY);\n  }\n\n  draw(ctx){\n    if(this.grounded && this.vel[0] === 0){\n      this.drawIdle(ctx);\n    } else if (this.grounded){\n      this.drawWalk(ctx);\n    } else if (!this.grounded){\n      this.drawJump(ctx);\n    }\n  }\n\n  drawIdle(ctx) {\n    this.numberOfFrames = 8;\n    this.startY = 10;\n    this.ticksPerFrame = 4;\n    this.drawMode = 'idle';\n    // ctx.clearRect(this.pos[0], this.pos[1], this.width, this.height);\n    // console.log('drawing idle');\n    if (this.facing === 1) {\n      ctx.drawImage(this.image,\n        // this.frameIndex * 62,\n        (this.frameIndex * 640 / this.numberOfFrames) + 5, this.startY,\n        65,73,\n        this.pos[0] + this.game.viewportDiffX, this.pos[1], this.width, this.height);\n    } else {\n      ctx.save();\n      ctx.translate(this.pos[0] + this.game.viewportDiffX + (65 / 2),this.pos[1]);\n      ctx.scale(-1,1);\n\n      ctx.drawImage(this.image,\n        // this.frameIndex * 65,\n        (this.frameIndex * 640 / this.numberOfFrames) + 5, this.startY,\n        65, 73,\n        -(65 / 2), 0, this.width, this.height);\n\n      ctx.restore();\n    }\n  }\n\n  drawWalk(ctx) {\n    this.numberOfFrames = 6;\n    this.startY = 110;\n    this.ticksPerFrame = 16;\n    this.drawMode = 'walk';\n    // ctx.clearRect(this.pos[0] + this.game.viewportDiffX, this.pos[1], this.width, this.height);\n    // console.log('drawing walking');\n    if (this.facing === 1) {\n      ctx.drawImage(this.image,\n        // this.frameIndex * 62,\n        (this.frameIndex * 480 / this.numberOfFrames) + 5, this.startY,\n        65,73,\n        this.pos[0] + this.game.viewportDiffX, this.pos[1], this.width, this.height);\n    } else {\n      ctx.save();\n      ctx.translate(this.pos[0] + this.game.viewportDiffX + (65 / 2),this.pos[1]);\n      ctx.scale(-1,1);\n\n      ctx.drawImage(this.image,\n        // this.frameIndex * 65,\n        (this.frameIndex * 480 / this.numberOfFrames) + 5, this.startY,\n        65, 73,\n        -(65 / 2), 0, this.width, this.height);\n\n      ctx.restore();\n    }\n  }\n\n  drawJump(ctx) {\n    this.numberOfFrames = 3;\n    this.startY = 290;\n    this.ticksPerFrame = 10;\n    this.drawMode = 'jump';\n    // ctx.clearRect(this.pos[0] + this.game.viewportDiffX, this.pos[1], this.width, this.height);\n\n    if (this.facing === 1) {\n      ctx.drawImage(this.image,\n        // this.frameIndex * 62,\n        (this.frameIndex * 240 / this.numberOfFrames) + 5, this.startY,\n        65,79,\n        this.pos[0] + this.game.viewportDiffX, this.pos[1], this.width, this.height);\n    } else {\n      ctx.save();\n      ctx.translate(this.pos[0] + this.game.viewportDiffX + (65 / 2),this.pos[1]);\n      ctx.scale(-1,1);\n\n      ctx.drawImage(this.image,\n        // this.frameIndex * 65,\n        (this.frameIndex * 240 / this.numberOfFrames) + 5, this.startY,\n        65, 79,\n        -(65 / 2), 0, this.width, this.height);\n\n      ctx.restore();\n    }\n  }\n\n  collideWith(otherObject) {\n    if (otherObject instanceof Platform){\n      // console.log('its a platform')\n      this.grounded = true;\n      this.vel[1] = 0;\n    }\n\n  }\n}\n\nPlayer.RADIUS = 15;\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nexport default Player;\n","import * as HordeUtil from \"./horde_util\";\nimport MovingObject from './moving_object';\nimport Player from './player';\nimport Bullet from './bullet';\n\nconst DEFAULTS = {\n    COLOR: \"#505050\",\n    RADIUS: 25,\n    SPEED: 4\n};\n\nclass Asteroid extends MovingObject {\n    constructor(options = {}) {\n        options.color = DEFAULTS.COLOR;\n        options.pos = options.pos || options.game.randomPosition();\n        options.radius = DEFAULTS.RADIUS;\n        options.vel = options.vel || HordeUtil.randomVec(DEFAULTS.SPEED);\n        super(options);\n    }\n\n    collideWith(otherObject) {\n        if (otherObject instanceof Player) {\n            otherObject.relocate();\n            return true;\n        } else if (otherObject instanceof Bullet) {\n            this.remove();\n            otherObject.remove();\n            return true;\n        }\n\n        return false;\n    }\n}\n\nexport default Asteroid;\n","import * as HordeUtil from \"./horde_util\";\nimport Bullet from './bullet';\nimport Intersects from 'intersects';\n\nclass Enemy {\n  constructor(options = {}){\n    this.color = options.color || '#b3e0ff';\n    this.width = options.width || 50;\n    this.height = options.height || 50;\n\n    this.game = options.game;\n    this.platform = options.platform;\n\n    let randomX = 0;\n    if (this.platform.pos[1] === 550){\n      randomX = this.platform.pos[0] + this.platform.width - this.width;\n    } else {\n      // debugger;\n      randomX = Math.floor(Math.random() * (this.platform.width - (this.width * 2) - 2)) +\n        (this.platform.pos[0] + this.width + 1);\n    }\n\n    this.pos = [randomX, this.platform.pos[1] - this.height - 2]\n    this.direction = 1;\n\n    this.image = new Image();\n    this.image.src = \"../images/sheet_bat_fly.png\";\n\n    this.tickCount = 0;\n    this.ticksPerFrame = 4;\n    this.frameIndex = 0;\n    this.numberOfFrames = 4\n    this.loop = options.loop;\n\n    this.update = this.update.bind(this);\n    this.alive = true;\n    this.framesSinceDead = null;\n  }\n\n  isCollidedWith(otherObject) {\n    let boxPos = [Math.floor(this.pos[0]), Math.floor(this.pos[1])];\n    let otherPos = [Math.floor(otherObject.pos[0]), Math.floor(otherObject.pos[1])];\n\n    return Intersects.boxBox(boxPos[0], boxPos[1], this.width, this.height,\n    otherPos[0], otherPos[1], otherObject.width, otherObject.height)\n  }\n\n\n  update(){\n    this.tickCount += 1;\n\n    if (this.tickCount > this.ticksPerFrame) {\n\n    \tthis.tickCount = 0;\n\n      // If the current frame index is in range\n      if (this.frameIndex < this.numberOfFrames - 1) {\n          // Go to the next frame\n          this.frameIndex += 1;\n      } else {\n          this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.direction === -1){\n      ctx.drawImage(this.image,\n        this.frameIndex * 128 / this.numberOfFrames,\n        3,\n        128 / this.numberOfFrames,\n        25,\n        this.pos[0] + this.game.viewportDiffX,\n        this.pos[1],\n        this.width,\n        this.height);\n\n    } else {\n      ctx.save();\n      ctx.translate(this.pos[0] + this.game.viewportDiffX + (128 / this.numberOfFrames / 2),this.pos[1]);\n      ctx.scale(-1,1);\n\n      ctx.drawImage(this.image,\n        this.frameIndex * 128 / this.numberOfFrames,\n        3,\n        128 / this.numberOfFrames,\n        25,\n        -(128 / this.numberOfFrames / 2),\n        0,\n        this.width,\n        this.height);\n\n      ctx.restore();\n    }\n  }\n\n  validMove(nextLoc){\n    if (nextLoc[0] > (this.platform.pos[0]) &&\n      nextLoc[0] < (this.platform.pos[0] + this.platform.width - this.width)){\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  move(){\n    this.update();\n\n    let nextLoc = [this.pos[0] + (this.direction), this.pos[1]];\n\n    if (this.validMove(nextLoc)){\n      this.pos = nextLoc;\n    } else {\n      this.direction = -(this.direction);\n      this.pos = [this.pos[0] + (this.direction * 2), this.pos[1]];\n    }\n  }\n}\n\nexport default Enemy;\n","import * as HordeUtil from \"./horde_util\";\nimport Asteroid from './asteroid';\nimport Platform from './platform';\nimport Player from './player';\nimport Bullet from './bullet';\nimport Enemy from './enemy';\n\n\nclass Game {\n    constructor() {\n      this.asteroids = [];\n      this.bullets = [];\n      this.players = [];\n      this.platforms = [];\n      this.enemies = [];\n      this.defeatedEnemies = [];\n\n      this.currentLevel = 1;\n      this.DIM_X = 0;\n\n      this.levels = {\n        1: {\n          platforms: [\n            {pos: [0, Game.DIM_Y-50], width: 800},\n            {pos: [100, 300], width: 200},\n            {pos: [400, 425], width: 250},\n            {pos: [700, 300], width: 100},\n          ],\n          enemiesPerPlat: 1,\n          dims: {x: 800 , y: 600}\n        },\n        2: {\n          platforms: [\n            {pos: [0, Game.DIM_Y-50], width: 800},\n            {pos: [700, 300], width: 100},\n            {pos: [400, 425], width: 250}\n          ],\n          enemiesPerPlat: 1,\n          dims: {x: 800 , y: 600}\n        },\n        3: {\n          platforms: [\n            {pos: [0, Game.DIM_Y-50], width: 2000},\n            {pos: [50, 375],  width: 200},\n            {pos: [150, 175],  width: 200},\n            {pos: [400, 300],  width: 250},\n            {pos: [700, 425],  width: 100},\n            {pos: [900, 425],  width: 200},\n            {pos: [900, 175],  width: 200},\n            {pos: [1150, 300],  width: 100},\n            {pos: [1300, 300],  width: 250},\n          ],\n          enemiesPerPlat: 1,\n          dims: {x: 2000 , y: 600}\n        },\n        4: {\n          platforms: [\n            {pos: [0, Game.DIM_Y-50], width: 2000},\n            {pos: [50, 375],  width: 200},\n            {pos: [150, 175],  width: 200},\n            {pos: [400, 300],  width: 250},\n            {pos: [700, 425],  width: 100},\n            {pos: [900, 425],  width: 200},\n            {pos: [900, 175],  width: 200},\n            {pos: [1150, 300],  width: 100},\n            {pos: [1300, 300],  width: 250},\n          ],\n          enemiesPerPlat: 3,\n          dims: {x: 2000 , y: 600}\n        }\n      };\n\n      // this.addAsteroids();\n      // this.addPlatforms();\n      // this.setUpLevel();\n\n      this.viewportDiffX = 0;\n\n      this.createPlayer = this.createPlayer.bind(this);\n      this.checkCollisions = this.checkCollisions.bind(this);\n      this.countEnemies = this.countEnemies.bind(this);\n      this.loadNextLevel = this.loadNextLevel.bind(this);\n      this.levelLost = this.levelLost.bind(this);\n      this.levelComplete = this.levelComplete.bind(this);\n      this.resetMap = this.resetMap.bind(this);\n      this.resetPlayer = this.resetPlayer.bind(this);\n      this.setUpLevel = this.setUpLevel.bind(this);\n\n    }\n\n    add(object) {\n        if (object instanceof Asteroid) {\n            this.asteroids.push(object);\n        } else if (object instanceof Enemy) {\n            this.enemies.push(object);\n        } else if (object instanceof Bullet) {\n            this.bullets.push(object);\n        } else if (object instanceof Player) {\n            this.players.push(object);\n        } else if (object instanceof Platform) {\n            this.platforms.push(object);\n        } else {\n            throw new Error(\"unknown type of object\");\n        }\n    }\n\n    resetMap(){\n      this.platforms = [];\n      this.enemies = [];\n      this.bullets = [];\n    }\n\n    resetPlayer(){\n      let player = this.players[0];\n\n      player.pos = [10, 499];\n      player.vel[1] = 1;\n    }\n\n    setUpLevel(){\n      // Clear Map\n      this.resetMap();\n\n      let currentLevel = this.levels[this.currentLevel];\n\n      //Set DIM_X\n      this.DIM_X = currentLevel.dims.x;\n\n      // Add Platforms\n      currentLevel.platforms.forEach(platform => {\n          this.add(new Platform({pos: [platform.pos[0], platform.pos[1]], width: platform.width, game: this}));\n          console.log('added Platform');\n      });\n\n      // Add an Enemy on each platform\n      this.platforms.forEach(platform => {\n        if (platform.pos != [0, Game.DIM_Y-50]){\n          console.log('added Enemy');\n          this.add(new Enemy({platform: platform, game: this}));\n        }\n      });\n\n      // Add player\n      this.resetPlayer();\n    }\n\n    levelComplete(){\n      if (this.countEnemies() === 0) {return true;}\n      return false;\n    }\n\n    levelLost(){\n      if (!this.players[0].alive) { return true;}\n      return false;\n    }\n\n    loadNextLevel(){\n      // setTimeout();\n      if (this.currentLevel < 4) {\n        this.currentLevel += 1;\n        this.setUpLevel();\n      }\n    }\n\n    displayLossScreen(){\n      let gameLost = document.getElementById('game-lost');\n      gameLost.classList.remove('hidden');\n    }\n\n    displayLevelComplete(){\n      let levelComplete = document.getElementById('level-complete');\n      levelComplete.classList.remove('hidden');\n    }\n\n    displayGameComplete(){\n      let gameComplete = document.getElementById('game-complete');\n      gameComplete.classList.remove('hidden');\n    }\n\n    countEnemies(){\n      // let count = 0;\n      // this.enemies.forEach( enemy => {\n      //   if (enemy.alive) {count += 1};\n      // })\n      // return count;\n      return this.enemies.length;\n    }\n\n    createPlayer() {\n        const player = new Player({\n            pos: [100, 400],\n            game: this\n        });\n        this.add(player);\n        return player;\n    }\n\n    step(delta) {\n      this.moveObjects(delta);\n      this.movePlayer(delta);\n\n      this.checkCollisions();\n    }\n\n    movePlayer(delta){\n      this.players[0].move(delta);\n    }\n\n    allObjects() {\n        return [].concat(this.platforms, this.players, this.enemies, this.bullets);\n    }\n\n    allMovingObjects() {\n        return [].concat(this.bullets, this.enemies);\n    }\n\n    checkCollisions(){\n      let player = this.players[0];\n\n      // Did bullets hit Enemies? Did Enemies hit player?\n      for( let i = 0; i < this.bullets.length; i++){\n        for (let j = 0; j < this.enemies.length; j++) {\n          let bullet = this.bullets[i];\n          let enemy = this.enemies[j];\n\n          if(bullet && bullet.isCollidedWith(enemy)){\n            //Remove Enemy at j\n            this.defeatedEnemies.push(this.enemies.splice(j, 1));\n            this.bullets.splice(i, 1);\n            // this.enemies[j].alive = false;\n          }\n        }\n        // Also, should check if bullet hit player\n      }\n\n      //Check if an enemy hit the player\n      for(let i = 0; i < this.enemies.length; i++){\n        let enemy = this.enemies[i];\n        if(enemy.isCollidedWith(player)) {\n          player.alive = false;\n        }\n      }\n    }\n\n    // checkCollisions() {\n    //     const allObjects = this.allObjects();\n    //\n    //     if (allObjects.length > 1){\n    //       for (let i = 0; i < allObjects.length; i++) {\n    //           for (let j = 0; j < allObjects.length; j++) {\n    //               let obj1 = allObjects[i];\n    //               let obj2 = allObjects[j];\n    //               // debugger;\n    //\n    //               if (obj1 != obj2 && obj1.isCollidedWith(obj2)) {\n    //                   const collision = obj1.collideWith(obj2);\n    //                   if (collision) return;\n    //               }\n    //           }\n    //       }\n    //     }\n    // }\n\n    draw(ctx) {\n        ctx.clearRect(0, 0, this.DIM_X, Game.DIM_Y);\n        ctx.fillStyle = Game.BG_COLOR;\n        // ctx.fillStyle = 'grey';\n        // debugger;\n        ctx.fillRect(0, 0, this.DIM_X, Game.DIM_Y);\n        // debugger;\n\n        this.allObjects().forEach((object) => {\n          //Only draw living objects\n          if (!(object instanceof Enemy && object.alive === false)) {\n            object.draw(ctx);\n          }\n        });\n    }\n\n    isOutOfBounds(pos) {\n        return (pos[0] < 0) || (pos[1] < 0) ||\n            (pos[0] > this.DIM_X) || (pos[1] > Game.DIM_Y);\n    }\n\n    moveObjects(delta) {\n        this.allMovingObjects().forEach((object) => {\n          object.move(delta);\n        });\n    }\n\n    remove(object) {\n        if (object instanceof Bullet) {\n            this.bullets.splice(this.bullets.indexOf(object), 1);\n        } else if (object instanceof Asteroid) {\n            this.asteroids.splice(this.asteroids.indexOf(object), 1);\n        } else if (object instanceof Player) {\n            this.players.splice(this.players.indexOf(object), 1);\n        } else {\n            throw new Error(\"unknown type of object\");\n        }\n    }\n}\n\n// Game.BG_COLOR = \"#0099e6\";\nGame.BG_COLOR = \"#003300\";\n// Game.DIM_X = 1000;\nGame.DIM_Y = 600;\nGame.FPS = 32;\nGame.NUM_ASTEROIDS = 10;\n\nexport default Game;\n","class GameView {\n    constructor(game, ctx) {\n        this.ctx = ctx;\n        this.game = game;\n        this.player = this.game.createPlayer();\n        this.game.setUpLevel();\n\n        this.bindKeyHandlers = this.bindKeyHandlers.bind(this);\n\n        this.newGame = this.newGame.bind(this);\n        this.start = this.start.bind(this);\n        // this.restart = this.restart.bind(this);\n        this.animate = this.animate.bind(this);\n        this.determineXDiff = this.determineXDiff.bind(this);\n        this.pause = false;\n        // this.drawBoard();\n    }\n\n    bindKeyHandlers() {\n        const player = this.player;\n\n        document.addEventListener('keydown', (e) => {\n          if (e.keyCode >= 37 && e.keyCode <= 40 ){\n            let move = GameView.MOVES[e.keyCode];\n            console.log('move', move);\n            player.isMovingX = true;\n            // while (this.move) {\n            player.playerMove(move);\n            // }\n          }\n        });\n\n        document.addEventListener('keyup', (e) => {\n          if (e.keyCode === 37 || e.keyCode === 39 ){\n            player.isMovingX = false;\n            // player.playerMove();\n          }\n        });\n\n        document.addEventListener('keydown',(e) => {\n           if(e.keyCode === 32){\n             console.log('fire bullet');\n             player.fireBullet();\n           }\n         });\n\n        // UI CONTROLS\n        document.getElementById('pause').addEventListener('click', () =>{\n          this.pause = true;\n        });\n\n        document.getElementById('play').addEventListener('click', () =>{\n          this.pause = false;\n        });\n\n        document.getElementById('next-level').addEventListener('click', () => {\n          this.game.loadNextLevel();\n          let levelComplete = document.getElementById('level-complete');\n          levelComplete.classList.add('hidden');\n          this.start();\n        });\n\n        document.getElementById('play-again').addEventListener('click', () => {\n          this.game.currentLevel = 0;\n          player.alive = true;\n          this.game.loadNextLevel();\n          document.getElementById('game-complete').classList.add('hidden');\n          this.start();\n        });\n\n        document.getElementById('try-again').addEventListener('click', () => {\n          this.game.currentLevel = 0;\n          player.alive = true;\n          this.game.loadNextLevel();\n          document.getElementById('game-lost').classList.add('hidden');\n          this.start();\n        });\n\n        document.getElementById('restart-l').addEventListener('click', () => {\n          player.facing = 1;\n          this.game.setUpLevel();\n        });\n\n        document.getElementById('restart-g').addEventListener('click', () => {\n          this.game.currentLevel = 1;\n          player.facing = 1;\n          this.game.setUpLevel();\n        });\n    }\n\n    updateUI(){\n      document.querySelector('#level').innerHTML = this.game.currentLevel;\n\n      document.querySelector('#enemies').innerHTML = this.game.countEnemies();\n    }\n\n    newGame() {\n      this.bindKeyHandlers();\n      this.game.currentLevel = 1;\n      this.start();\n    }\n\n    start(){\n      this.lastTime = 0;\n      // start the animation\n      requestAnimationFrame(this.animate.bind(this));\n    }\n\n    animate(time) {\n      //check if its the end of the game\n      if (this.game.levelLost()) {\n        console.log(\"sorry, you lost\");\n        this.game.displayLossScreen();\n      } else if (this.game.levelComplete()) {\n        // this.levelComplete = true;\n        console.log(\"Congrats, onto the next level\");\n        if (this.game.currentLevel === 3){\n          this.game.displayGameComplete();\n        } else {\n          this.game.displayLevelComplete();\n        }\n        // this.game.loadNextLevel();\n        // setTimeout(this.loadNextLevel(), 1000);\n      } else {\n        const timeDelta = time - this.lastTime;\n\n        if (this.pause === false){\n          // Move the steps\n          this.game.step(timeDelta);\n\n          // Find the Xdiff\n          this.game.viewportDiffX = this.determineXDiff();\n\n          // Draw all the places\n          this.game.draw(this.ctx);\n          this.updateUI();\n        }\n        this.lastTime = time;\n        requestAnimationFrame(this.animate.bind(this));\n      }\n    }\n\n    determineXDiff() {\n      if (this.player.pos[0] < 400){\n        return 0;\n      } else if (this.player.pos[0] > (this.game.levels[this.game.currentLevel].dims.x - 400)) {\n        return 400 - (this.game.levels[this.game.currentLevel].dims.x - 400);\n      } else {\n        return 400 - this.player.pos[0];\n      }\n    }\n\n}\n\nGameView.MOVES = {\n    38: [0, -1],\n    37: [-1, 0],\n    40: [0, 1],\n    39: [1, 0],\n};\n\nexport default GameView;\n","import 'styles/index.scss';\n\n\nimport Game from './game';\nimport GameView from './game_view';\nimport Intersection from 'intersection';\n// import lineIntersect from 'line-intersect';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    let canvas = document.getElementById(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    window.ctx = ctx;\n    const game = new Game();\n\n    document.getElementById('start').addEventListener('click', ()=>{\n      document.getElementById('start-screen').classList.add('hidden');\n      document.getElementById('canvas').classList.remove('hidden');\n      document.getElementById('game-meta-info').classList.remove('hidden');\n      new GameView(game, ctx).newGame();\n    });\n});\n"],"sourceRoot":""}