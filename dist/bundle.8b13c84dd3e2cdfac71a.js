!function(t){var e={};function i(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=39)}([function(t,e,i){"use strict";const s=i(3);t.exports=function(t,e,i,o){var n,r,a=t.length,h=!1;for(n=0,r=a-2;n<a;n+=2)t[n+1]>i!=t[r+1]>i&&e<(t[r]-t[n])*(i-t[n+1])/(t[r+1]-t[n+1])+t[n]&&(h=!h),r=n;if(h)return!0;for(n=0;n<a;n+=2){var l,c,d=t[n],u=t[n+1];if(n===a-2?(l=t[0],c=t[1]):(l=t[n+2],c=t[n+3]),s(d,u,l,c,e,i,o))return!0}return!1}},function(t,e,i){"use strict";t.exports={circlePoint:i(6),circleCircle:i(24),circleLine:i(25),circleBox:i(26),circlePolygon:i(27),polygonPoint:i(0),polygonLine:i(28),polygonPolygon:i(10),polygonBox:i(11),polygonCircle:i(8),boxPoint:i(5),boxBox:i(29),boxLine:i(30),boxPolygon:i(31),boxCircle:i(7),pointBox:i(32),pointPolygon:i(33),pointCircle:i(34),pointLine:i(35),lineLine:i(4),lineBox:i(12),linePolygon:i(9),lineCircle:i(2),linePoint:i(3)}},function(t,e,i){"use strict";function s(t,e){return t[0]*e[0]+t[1]*e[1]}t.exports=function(t,e,i,o,n,r,a){var h=[n-t,r-e],l=[i-t,o-e],c=s(l,l),d=s(h,l)/c,u=[l[0]*(d=(d=d<0?0:d)>1?1:d)+t-n,l[1]*d+e-r];return s(u,u)<=a*a}},function(t,e,i){"use strict";function s(t,e,i,s){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-s,2))}t.exports=function(t,e,i,o,n,r,a){return a=a||1,Math.abs(s(t,e,i,o)-(s(t,e,n,r)+s(i,o,n,r)))<=a}},function(t,e,i){"use strict";t.exports=function(t,e,i,s,o,n,r,a){var h=i-t,l=s-e,c=r-o,d=a-n,u=(-l*(t-o)+h*(e-n))/(-c*l+h*d),p=(c*(e-n)-d*(t-o))/(-c*l+h*d);return u>=0&&u<=1&&p>=0&&p<=1}},function(t,e,i){"use strict";t.exports=function(t,e,i,s,o,n){return o>=t&&o<=t+i&&n>=e&&n<=e+s}},function(t,e,i){"use strict";t.exports=function(t,e,i,s,o){var n=s-t,r=o-e;return n*n+r*r<=i*i}},function(t,e,i){"use strict";t.exports=function(t,e,i,s,o,n,r){var a=i/2,h=s/2,l=Math.abs(o-(t+i/2)),c=Math.abs(n-(e+s/2));if(l>a+r||c>h+r)return!1;if(l<=a||c<=h)return!0;var d=l-a,u=c-h;return d*d+u*u<=r*r}},function(t,e,i){"use strict";var s=i(0),o=i(2);t.exports=function(t,e,i,n){if(s(t,e,i))return!0;for(var r=t.length,a=0;a<r-2;a+=2)if(o(t[a],t[a+1],t[a+2],t[a+3],e,i,n))return!0;return o(t[0],t[1],t[r-2],t[r-1],e,i,n)}},function(t,e,i){"use strict";var s=i(0),o=i(4);t.exports=function(t,e,i,n,r){var a=r.length;if(s(r,t,e))return!0;for(var h=0;h<a;h+=2){var l=(h+2)%a;if(o(t,e,i,n,r[h],r[h+1],r[l],r[l+1]))return!0}return!1}},function(t,e,i){"use strict";t.exports=function(t,e){for(var i,s,o,n,r,a,h=t,l=e,c=[h,l],d=0;d<c.length;d++)for(var u=c[d],p=0;p<u.length;p+=2){var f=(p+2)%u.length,m={x:u[f+1]-u[p+1],y:u[p]-u[f]};for(i=s=null,a=0;a<h.length;a+=2)o=m.x*h[a]+m.y*h[a+1],(null===i||o<i)&&(i=o),(null===s||o>s)&&(s=o);for(n=r=null,a=0;a<l.length;a+=2)o=m.x*l[a]+m.y*l[a+1],(null===n||o<n)&&(n=o),(null===r||o>r)&&(r=o);if(s<n||r<i)return!1}return!0}},function(t,e,i){"use strict";var s=i(10);t.exports=function(t,e,i,o,n){return s(t,[e,i,e+o,i,e+o,i+n,e,i+n])}},function(t,e,i){"use strict";var s=i(5),o=i(4);t.exports=function(t,e,i,n,r,a,h,l){return!(!s(r,a,h,l,t,e)&&!s(r,a,h,l,i,n))||(o(t,e,i,n,r,a,r+h,a)||o(t,e,i,n,r+h,a,r+h,a+l)||o(t,e,i,n,r,a+l,r+h,a+l)||o(t,e,i,n,r,a,r,a+l))}},function(t,e){var i=function(){var t={oA:function(t){return t.start},AB:function(t){var e=t.start,i=t.end;return{x:i.x-e.x,y:i.y-e.y}},add:function(t,e){return{x:t.x+e.x,y:t.y+e.y}},sub:function(t,e){return{x:t.x-e.x,y:t.y-e.y}},scalarMult:function(t,e){return{x:t*e.x,y:t*e.y}},crossProduct:function(t,e){return t.x*e.y-e.x*t.y}},e={vector:function(e){return t.AB(e)},intersectSegments:function(e,i){var s=t.oA(e),o=t.AB(e),n=t.oA(i),r=t.AB(i),a=t.crossProduct(o,r),h=t.sub(n,s),l=t.crossProduct(h,r)/a;return t.add(s,t.scalarMult(l,o))},isParallel:function(e,i){var s=t.AB(e),o=t.AB(i);return 0===t.crossProduct(s,o)},isCollinear:function(e,i){var s=t.oA(e),o=t.AB(e),n=t.oA(i);t.AB(i);return 0===t.crossProduct(t.sub(s,n),o)},safeIntersect:function(t,i){return!1===e.isParallel(t,i)&&e.intersectSegments(t,i)}};return e};i.intersectSegments=i().intersectSegments,i.intersect=i().safeIntersect,i.isParallel=i().isParallel,i.isCollinear=i().isCollinear,i.describe=function(t,e){var s=i().isCollinear(t,e),o=i().isParallel(t,e),n=void 0;return!1===o&&(n=i().intersectSegments(t,e)),{collinear:s,parallel:o,intersection:n}},t.exports=i},function(t,e){function i(t){var e=t[0],i=t[1],s=t[2],o=t[3];return{x:((e.x*i.y-i.x*e.y)*(s.x-o.x)-(e.x-i.x)*(s.x*o.y-s.y*o.x))/((e.x-i.x)*(s.y-o.y)-(e.y-i.y)*(s.x-o.x)),y:((e.x*i.y-i.x*e.y)*(s.y-o.y)-(e.y-i.y)*(s.x*o.y-s.y*o.x))/((e.x-i.x)*(s.y-o.y)-(e.y-i.y)*(s.x-o.x))}}function s(t,e,i){return(e.x<=t.x&&t.x<=i.x||e.x>=t.x&&t.x>=i.x)&&(e.y<=t.y&&t.y<=i.y||e.y>=t.y&&t.y>=i.y)}e.findIntersection=i,e.isPointBetween=s,e.findSegmentIntersection=function(t){var e=i(t),o=t[0],n=t[1],r=t[2],a=t[3];return!(!s(e,o,n)||!s(e,r,a))&&e},e.isSegmentIntersected=function(t){var e=i(t),o=t[0],n=t[1],r=t[2],a=t[3];return s(e,o,n)&&s(e,r,a)}},,,,,function(t,e,i){var s=i(20);"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(22)(s,o);s.locals&&(t.exports=s.locals)},function(t,e,i){(t.exports=i(21)(!1)).push([t.i,"html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body{background-color:black;padding:0;margin:0}body,h1,h2,h3,h4,a,p,div,span{text-shadow:1px 1px 5px black;font-family:'Press Start 2P', cursive;letter-spacing:4px;text-shadow:-1px 0 0 #fdff2a, -2px 0 0 #df4a42, 1px 0 0 #91fcfe, 2px 0 0 #4405fc}#game-head{width:100%;height:140px;display:flex;flex-direction:row;justify-content:space-around;align-items:center}#game-head .game-logo{display:flex;justify-content:center;align-items:center;width:65%;height:140px;font-weight:600}#game-head .game-logo h1{text-align:center;font-size:50px;font-weight:700;color:white}#game-head .game-logo a{text-decoration:none}#game-head .contact{height:140px;width:15%;margin:5%;display:flex;flex-direction:column;justify-content:center;align-items:center}#game-head .contact h2{font-size:30px;font-weight:600;margin:10px 0px 10px 0px;color:white}#game-head .contact a{border-radius:50%;height:35px;width:35px;background-color:white;text-decoration:none;display:flex;justify-content:center;align-items:center;flex-grow:1 0 40%;transition:0.5s}#game-head .contact a:hover{background-color:yellow}#game-head .contact a .contact-icon{font-size:20px;color:black;text-shadow:none;letter-spacing:0}#game-head .contact .contact-icons-div{display:flex;flex-direction:row;justify-content:flex-end;align-items:center;width:100%;height:50px}#game-head .contact .contact-icons-div a{margin:10px}#game-body{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%}#game-body .directions{width:15%;text-align:center;color:white}#game-body .directions h2{margin-bottom:40px}#game-body .directions p{margin:25px 0px}#game-body .game{width:55%;height:600px;display:flex;justify-content:center;margin:0% 2%}#game-body #start-screen{width:600px;height:600px;background-color:black;display:flex;align-items:center}#game-body #start-screen #start{border-top:4px solid white;border-bottom:4px solid white;text-align:center;height:100px;width:100%;display:flex;align-items:center;justify-content:center;color:white;font-size:45px;font-weight:600;transition:1s background-color;-webkit-animation:bgcolorchange 4s infinite;animation:4s infinite bgcolorchange}@keyframes bgcolorchange{0%{color:white}25%{color:red}50%{color:blue}75%{color:purple}100%{color:white}}@-webkit-keyframes bgcolorchange{0%{color:white}25%{color:red}50%{color:blue}75%{color:purple}100%{color:white}}#game-body #start-screen #start:hover{background-color:#003c00}#game-body canvas{position:absolute}#game-body .game-meta-info{width:800px;padding-top:20px;position:absolute;display:flex;justify-content:space-around;align-items:center;color:white;z-index:5}#game-body .game-meta-info .game-meta-segment{width:30%;display:flex;flex-direction:column;justify-content:space-around;align-items:center}#game-body .game-meta-info .game-meta-segment h3{font-weight:500;font-size:16px;text-align:center;margin:0 auto;margin-bottom:10px}#game-body .game-meta-info .game-meta-segment span{font-weight:500;font-size:18px}#game-body .game-controls{height:500px;display:flex;flex-direction:column;justify-content:center;align-items:center;width:15%;color:white}#game-body .game-controls h1{text-align:center;font-size:22px}#game-body .game-dash{display:flex;flex-direction:row;justify-content:space-around;width:100%;margin:25px 0px}#game-body .game-dash i{font-size:30px}#game-body .game-button{border:1px solid blue;padding:10px;border-radius:25px;width:150px;font-size:18px;margin:15px;transition:color 0.5s}#game-body .game-icon{color:white}#game-body .game-button:hover{color:white;background-color:blue;border:2px solid white}.level-overlay{position:absolute;height:600px;width:800px;background-color:black;opacity:0.7;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;z-index:10}.next-button{display:flex;justify-content:center;align-items:center;width:250px;height:100px;border-radius:25px;border:1px solid blue;margin-top:100px;color:white;font-size:25px}.next-button:hover{color:blue;background-color:white}.complete-message{padding:30px;font-size:30px;width:90%;height:100px;color:white;display:flex;align-items:center;justify-content:center}.hidden{display:none !important}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(s),n=s.sources.map(function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"});return[i].concat(n).concat([o]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},o=0;o<this.length;o++){var n=this[o][0];"number"==typeof n&&(s[n]=!0)}for(o=0;o<t.length;o++){var r=t[o];"number"==typeof r[0]&&s[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),e.push(r))}},e}},function(t,e,i){var s={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),n=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var s=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,i);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}}(),r=null,a=0,h=[],l=i(23);function c(t,e){for(var i=0;i<t.length;i++){var o=t[i],n=s[o.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](o.parts[r]);for(;r<o.parts.length;r++)n.parts.push(g(o.parts[r],e))}else{var a=[];for(r=0;r<o.parts.length;r++)a.push(g(o.parts[r],e));s[o.id]={id:o.id,refs:1,parts:a}}}}function d(t,e){for(var i=[],s={},o=0;o<t.length;o++){var n=t[o],r=e.base?n[0]+e.base:n[0],a={css:n[1],media:n[2],sourceMap:n[3]};s[r]?s[r].parts.push(a):i.push(s[r]={id:r,parts:[a]})}return i}function u(t,e){var i=n(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=h[h.length-1];if("top"===t.insertAt)s?s.nextSibling?i.insertBefore(e,s.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),h.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=n(t.insertAt.before,i);i.insertBefore(e,o)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function f(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var s=function(){0;return i.nc}();s&&(t.attrs.nonce=s)}return m(e,t.attrs),u(t,e),e}function m(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function g(t,e){var i,s,o,n;if(e.transform&&t.css){if(!(n="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=n}if(e.singleton){var h=a++;i=r||(r=f(e)),s=x.bind(null,i,h,!1),o=x.bind(null,i,h,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),u(t,e),e}(e),s=function(t,e,i){var s=i.css,o=i.sourceMap,n=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||n)&&(s=l(s));o&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([s],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}.bind(null,i,e),o=function(){p(i),i.href&&URL.revokeObjectURL(i.href)}):(i=f(e),s=function(t,e){var i=e.css,s=e.media;s&&t.setAttribute("media",s);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){p(i)});return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=d(t,e);return c(i,e),function(t){for(var o=[],n=0;n<i.length;n++){var r=i[n];(a=s[r.id]).refs--,o.push(a)}t&&c(d(t,e),e);for(n=0;n<o.length;n++){var a;if(0===(a=o[n]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete s[a.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function x(t,e,i,s){var o=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=v(e,o);else{var n=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(n,r[e]):t.appendChild(n)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,s=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,n=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)?t:(o=0===n.indexOf("//")?n:0===n.indexOf("/")?i+n:s+n.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,i){"use strict";t.exports=function(t,e,i,s,o,n){var r=t-s,a=o-e,h=i+n;return r*r+a*a<=h*h}},function(t,e,i){"use strict";var s=i(2);t.exports=function(t,e,i,o,n,r,a){return s(o,n,r,a,t,e,i)}},function(t,e,i){"use strict";var s=i(7);t.exports=function(t,e,i,o,n,r,a){return s(o,n,r,a,t,e,i)}},function(t,e,i){"use strict";var s=i(8);t.exports=function(t,e,i,o){return s(o,t,e,i)}},function(t,e,i){"use strict";var s=i(9);t.exports=function(t,e,i,o,n){return s(e,i,o,n,t)}},function(t,e,i){"use strict";t.exports=function(t,e,i,s,o,n,r,a){return t<o+r&&t+i>o&&e<n+a&&e+s>n}},function(t,e,i){"use strict";var s=i(12);t.exports=function(t,e,i,o,n,r,a,h){return s(n,r,a,h,t,e,i,o)}},function(t,e,i){"use strict";var s=i(11);t.exports=function(t,e,i,o,n){return s(n,t,e,i,o)}},function(t,e,i){"use strict";var s=i(5);t.exports=function(t,e,i,o,n,r){return s(i,o,n,r,t,e)}},function(t,e,i){"use strict";var s=i(0);t.exports=function(t,e,i,o){return s(i,t,e,o)}},function(t,e,i){"use strict";var s=i(6);t.exports=function(t,e,i,o,n){return s(i,o,n,t,e)}},function(t,e,i){"use strict";var s=i(3);t.exports=function(t,e,i,o,n,r){return s(i,o,n,r,t,e)}},function(t,e,i){var s=i(37),o=i(38);t.exports=function(t,e){var i=t.some(function(t,i,o){var n=i==o.length-1?0:i+1;return e.some(function(t,e,r){var a=e==r.length-1?0:e+1;return s([o[i],o[n]],[r[e],r[a]])})});return i||(i=e.some(function(e){return o(e,t)})||t.some(function(t){return o(t,e)})),i}},function(t,e){function i(t,e,i,o,n,r,a){return s(Math.min(i,n),a)<=s(t,a)&&s(t,a)<=s(Math.max(i,n),a)&&s(Math.min(o,r),a)<=s(e,a)&&s(e,a)<=s(Math.max(o,r),a)}function s(t,e){return parseInt(t*Math.pow(10,e))}t.exports=function(t,e,o){var n,r,a=t[0][0],h=t[0][1],l=t[1][0],c=t[1][1],d=e[0][0],u=e[0][1],p=e[1][0],f=e[1][1],m=!1,g=o||6,v=(a-l)*(u-f)-(h-c)*(d-p);return 0==v?s((u-h)*(l-a),g)==s((c-h)*(d-a),g)&&(m=i(d,u,a,h,l,c,g)||i(p,f,a,h,l,c,g)):m=i(n=((a*c-h*l)*(d-p)-(a-l)*(d*f-u*p))/v,r=((a*c-h*l)*(u-f)-(h-c)*(d*f-u*p))/v,a,h,l,c,g)&&i(n,r,d,u,p,f,g),m}},function(t,e){function i(t,e){return parseInt(t*Math.pow(10,e))}t.exports=function(t,e,s){var o=s||6,n=.5*Math.abs((e[0][1]-e[2][1])*(e[3][0]-e[1][0])+(e[1][1]-e[3][1])*(e[0][0]-e[2][0]));return i(e.reduce(function(e,i,s,o){var n=s==o.length-1?0:s+1;return e+.5*Math.abs(t[0]*(o[s][1]-o[n][1])+o[s][0]*(o[n][1]-t[1])+o[n][0]*(t[1]-o[s][1]))},0),o)==i(n,o)}},function(t,e,i){"use strict";i.r(e);i(19);const s=(t,e)=>Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)),o=t=>s([0,0],t);var n=class{constructor(t){this.pos=t.pos,this.width=t.width,this.height=t.height,this.color=t.color,this.game=t.game,this.isWrappable=!0}collideWith(t){}draw(t){t.fillStyle=this.color,t.beginPath();let e=this.pos[0],i=this.pos[1];t.moveTo(e,i),t.lineTo(e+this.width,i),t.lineTo(e+this.width,i+this.height),t.lineTo(e,i+this.height),t.lineTo(e,i),t.fill()}remove(){this.game.remove(this)}};const r=1e3/60;var a=class{constructor(t){this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color,this.game=t.game,this.isWrappable=!0,this.isCollidedWith=this.isCollidedWith.bind(this)}collideWith(t){}draw(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!0),t.fill()}isCollidedWith(t){return s(this.pos,t.pos)<this.radius+t.radius}move(t){const e=t/r,i=this.vel[0]*e,s=this.vel[1]*e;this.pos=[this.pos[0]+i,this.pos[1]+s],this.game.isOutOfBounds(this.pos)&&this.remove()}remove(){this.game.remove(this)}},h=i(1),l=i.n(h);class c extends a{constructor(t){t.radius=c.RADIUS,super(t),this.isWrappable=!1,this.width=15,this.height=15,this.origin=t.origin,this.image=new Image,this.image.src="../images/M484BulletCollection1.png",this.isCollidedWith=this.isCollidedWith.bind(this)}isCollidedWith(t){if(t!=this.origin){let e=[Math.floor(this.pos[0]),Math.floor(this.pos[1])],i=[Math.floor(t.pos[0]),Math.floor(t.pos[1])];return l.a.boxBox(e[0],e[1],this.width,this.height,i[0],i[1],t.width,t.height)}return!1}draw(){ctx.drawImage(this.image,251,325,20,20,this.pos[0]+this.game.viewportDiffX,this.pos[1],this.width,this.height)}}c.RADIUS=2,c.SPEED=15;var d=c,u=(i(13),i(14)),p=i.n(u);i(36);class f extends a{constructor(t){t.width=50,t.height=50,t.vel=[0,1],t.color=t.color||function(){let t="#";for(let e=0;e<3;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}(),super(t),this.move=this.move.bind(this),this.isCollidedWith=this.isCollidedWith.bind(this),this.playerMove=this.playerMove.bind(this),this.fireBullet=this.fireBullet.bind(this),this.nextValidMove=this.nextValidMove.bind(this),this.draw=this.draw.bind(this),this.drawWalk=this.drawWalk.bind(this),this.drawIdle=this.drawIdle.bind(this),this.drawJump=this.drawJump.bind(this),this.grounded=!1,this.width=t.width,this.height=t.height,this.isMovingX=!1,this.platformOn=null,this.facing=1,this.playerCorners=[this.pos,[this.pos[0]+this.width,this.pos[1]],[this.pos[0]+this.width,this.pos[1]+this.height],[this.pos[0],this.pos[1]+this.height]],this.image=new Image,this.image.src="../images/hero_spritesheet.png",this.tickCount=0,this.ticksPerFrame=4,this.frameIndex=0,this.numberOfFrames=8,this.startY=10,this.loop=t.loop,this.drawMode="idle",this.lastDrawMode="idle",this.update=this.update.bind(this),this.alive=!0,this.framesSinceDead=null}update(){this.tickCount+=1,this.drawMode!=this.lastDrawMode&&(this.frameIndex=0,this.lastDrawMode=this.drawMode),this.tickCount>this.ticksPerFrame&&(this.tickCount=0,this.frameIndex<this.numberOfFrames-1?this.frameIndex+=1:this.frameIndex=0)}fireBullet(){o(this.vel);console.log("facing is",this.facing);const t=new d({pos:[this.pos[0]+this.width/2,this.pos[1]+this.height/2],vel:[8*this.facing,0],color:this.color,game:this.game,origin:this});this.game.add(t)}playerMove(t){if(0===t[0]){if(this.grounded&&t[1]<0){let e=17*t[1];this.vel[1]=Math.min(30,e)}}else 0===t[1]&&(this.vel[0]=4*t[0],this.facing>0&&t[0]<0?this.facing=-1:this.facing<0&&t[0]>0&&(this.facing=1))}nextValidMove(t,e){let i=[Math.floor(this.pos[0]+t),Math.floor(this.pos[1]+e)];if(null!=this.platformOn&&(this.platformOn.pos[0]>this.pos[0]&&this.platformOn.pos[0]>this.pos[0]+this.width||this.platformOn.pos[0]+this.platformOn.width<this.pos[0]&&this.platformOn.pos[0]+this.platformOn.width<this.pos[0]+this.width))this.grounded=!1;else{if(this.grounded&&0===this.vel[0]&&this.vel[1]>0)return this.pos;this.grounded=!1,this.platformOn=null}console.log("this pos",this.pos),console.log("next pos",i),console.log("velocity",this.vel);let s="",o=[[Math.floor(this.pos[0]),Math.floor(this.pos[1])],[Math.floor(this.pos[0]+this.width),Math.floor(this.pos[1])],[Math.floor(this.pos[0]+this.width),Math.floor(this.pos[1]+this.height)],[Math.floor(this.pos[0]),Math.floor(this.pos[1]+this.height)]],n=this.game.platforms;for(let i=0;i<n.length;i++){let r=n[i],a=[],h="",l="",c="";for(let i=0;i<o.length;i++){let n=o[i],d=[[[r.pos[0],r.pos[1]],[r.pos[0]+r.width,r.pos[1]],{x:0,y:-1},"top"],[[r.pos[0]+r.width,r.pos[1]],[r.pos[0]+r.width,r.pos[1]+r.height],{x:1,y:0},"right"],[[r.pos[0]+r.width,r.pos[1]+r.height],[r.pos[0],r.pos[1]+r.height],{x:0,y:1},"bottom"],[[r.pos[0],r.pos[1]],[r.pos[0],r.pos[1]+r.height],{x:-1,y:0},"left"]];s=this.grounded&&this.vel[1]>0&&0!=this.vel[0]?[Math.floor(n[0]+t),Math.floor(n[1])]:[Math.floor(n[0]+t),Math.floor(n[1]+e)];for(let t=0;t<d.length;t++){let e=d[t],i=[Math.floor(e[0][0]),Math.floor(e[0][1]),Math.floor(e[1][0]),Math.floor(e[1][1])],o=p.a.findSegmentIntersection([{x:n[0],y:n[1]},{x:s[0],y:s[1]},{x:i[0],y:i[1]},{x:i[2],y:i[3]}]);if(0!=o){let t=Math.abs(2^(o.x-n[0]^o.y-n[1]+2));(""===h||t<h)&&(a=e,l=o,h=t,c=n)}}}if(console.log("cornerIntersect",l),""!=l){let t=Math.pow(Math.pow(this.vel[0],2)+Math.pow(this.vel[1],2),.5),e=[(0-this.vel[0])/t,(0-this.vel[1])/t],i=[];e.forEach(t=>{0!=t?i.push(t/Math.abs(t)):i.push(0)}),console.log("unit vector x",e[0]),console.log("unit vector y",e[1]);let n=l.x+i[0],h=l.y+i[1];switch(c){case o[0]:s=[n,h];break;case o[1]:s=[n-this.width,h];break;case o[2]:s=[n-this.width,h-this.height];break;case o[3]:s=[n,h-this.height]}switch(a[3]){case"top":this.vel[1]=1,this.grounded=!0;break;case"right":this.vel[0]=0;break;case"bottom":this.vel[1]=1;break;case"left":this.vel[0]=0}return this.platformOn=r,this.collided=!0,s}}return i}move(t){this.update();this.vel[1]<15&&!1===this.grounded&&(this.vel[1]+=1),!1===this.isMovingX&&(this.vel[0]=0);const e=t/m,i=Number(Number.parseFloat(this.vel[0]*e).toPrecision(3)),s=Number(Number.parseFloat(this.vel[1]*e).toPrecision(3));this.pos=this.nextValidMove(i,s)}draw(t){this.grounded&&0===this.vel[0]?this.drawIdle(t):this.grounded?this.drawWalk(t):this.grounded||this.drawJump(t)}drawIdle(t){this.numberOfFrames=8,this.startY=10,this.ticksPerFrame=4,this.drawMode="idle",1===this.facing?t.drawImage(this.image,640*this.frameIndex/this.numberOfFrames+5,this.startY,65,73,this.pos[0]+this.game.viewportDiffX,this.pos[1],this.width,this.height):(t.save(),t.translate(this.pos[0]+this.game.viewportDiffX+32.5,this.pos[1]),t.scale(-1,1),t.drawImage(this.image,640*this.frameIndex/this.numberOfFrames+5,this.startY,65,73,-32.5,0,this.width,this.height),t.restore())}drawWalk(t){this.numberOfFrames=6,this.startY=110,this.ticksPerFrame=16,this.drawMode="walk",1===this.facing?t.drawImage(this.image,480*this.frameIndex/this.numberOfFrames+5,this.startY,65,73,this.pos[0]+this.game.viewportDiffX,this.pos[1],this.width,this.height):(t.save(),t.translate(this.pos[0]+this.game.viewportDiffX+32.5,this.pos[1]),t.scale(-1,1),t.drawImage(this.image,480*this.frameIndex/this.numberOfFrames+5,this.startY,65,73,-32.5,0,this.width,this.height),t.restore())}drawJump(t){this.numberOfFrames=3,this.startY=290,this.ticksPerFrame=10,this.drawMode="jump",1===this.facing?t.drawImage(this.image,240*this.frameIndex/this.numberOfFrames+5,this.startY,65,79,this.pos[0]+this.game.viewportDiffX,this.pos[1],this.width,this.height):(t.save(),t.translate(this.pos[0]+this.game.viewportDiffX+32.5,this.pos[1]),t.scale(-1,1),t.drawImage(this.image,240*this.frameIndex/this.numberOfFrames+5,this.startY,65,79,-32.5,0,this.width,this.height),t.restore())}collideWith(t){t instanceof x&&(this.grounded=!0,this.vel[1]=0)}}f.RADIUS=15;const m=1e3/60;var g=f;const v={COLOR:"#ff0000",RADIUS:25,SPEED:4};var x=class extends n{constructor(t={}){t.color=v.COLOR,t.pos=t.pos,t.height=50,super(t),this.image=new Image,this.image.src="../images/platform_ground.png",this.center=[this.pos[0]+t.width/2,this.pos[1]+t.height/2]}draw(t){t.drawImage(this.image,0,0,100,20,this.pos[0]+this.game.viewportDiffX,this.pos[1],this.width,this.height)}collideWith(t){return!1}};var y=class{constructor(t={}){this.color=t.color||"#b3e0ff",this.width=t.width||50,this.height=t.height||50,this.game=t.game,this.platform=t.platform;let e=0;e=550===this.platform.pos[1]?this.platform.pos[0]+this.platform.width-this.width:Math.floor(Math.random()*(this.platform.width-2*this.width-2))+(this.platform.pos[0]+this.width+1),this.pos=[e,this.platform.pos[1]-this.height-2],this.direction=1,this.image=new Image,this.image.src="../images/sheet_bat_fly.png",this.tickCount=0,this.ticksPerFrame=4,this.frameIndex=0,this.numberOfFrames=4,this.loop=t.loop,this.update=this.update.bind(this),this.alive=!0,this.framesSinceDead=null}isCollidedWith(t){let e=[Math.floor(this.pos[0]),Math.floor(this.pos[1])],i=[Math.floor(t.pos[0]),Math.floor(t.pos[1])];return l.a.boxBox(e[0],e[1],this.width,this.height,i[0],i[1],t.width,t.height)}update(){this.tickCount+=1,this.tickCount>this.ticksPerFrame&&(this.tickCount=0,this.frameIndex<this.numberOfFrames-1?this.frameIndex+=1:this.frameIndex=0)}draw(t){-1===this.direction?t.drawImage(this.image,128*this.frameIndex/this.numberOfFrames,3,128/this.numberOfFrames,25,this.pos[0]+this.game.viewportDiffX,this.pos[1],this.width,this.height):(t.save(),t.translate(this.pos[0]+this.game.viewportDiffX+128/this.numberOfFrames/2,this.pos[1]),t.scale(-1,1),t.drawImage(this.image,128*this.frameIndex/this.numberOfFrames,3,128/this.numberOfFrames,25,-128/this.numberOfFrames/2,0,this.width,this.height),t.restore())}validMove(t){return t[0]>this.platform.pos[0]&&t[0]<this.platform.pos[0]+this.platform.width-this.width}move(){this.update();let t=[this.pos[0]+this.direction,this.pos[1]];this.validMove(t)?this.pos=t:(this.direction=-this.direction,this.pos=[this.pos[0]+2*this.direction,this.pos[1]])}};class w{constructor(){this.bullets=[],this.players=[],this.platforms=[],this.enemies=[],this.defeatedEnemies=[],this.currentLevel=1,this.DIM_X=0,this.levels={1:{platforms:[{pos:[0,w.DIM_Y-50],width:800},{pos:[100,200],width:200},{pos:[400,325],width:250},{pos:[700,200],width:100}],enemiesPerPlat:1,dims:{x:800,y:500}},2:{platforms:[{pos:[0,w.DIM_Y-50],width:800},{pos:[700,200],width:100},{pos:[400,325],width:250}],enemiesPerPlat:1,dims:{x:800,y:500}},3:{platforms:[{pos:[0,w.DIM_Y-50],width:2e3},{pos:[50,275],width:200},{pos:[150,75],width:200},{pos:[400,200],width:250},{pos:[700,325],width:100},{pos:[900,325],width:200},{pos:[900,75],width:200},{pos:[1150,200],width:100},{pos:[1300,200],width:250}],enemiesPerPlat:1,dims:{x:2e3,y:500}},4:{platforms:[{pos:[0,w.DIM_Y-50],width:2e3},{pos:[50,275],width:200},{pos:[150,75],width:200},{pos:[400,200],width:250},{pos:[700,325],width:100},{pos:[900,325],width:200},{pos:[900,75],width:200},{pos:[1150,200],width:100},{pos:[1300,200],width:250}],enemiesPerPlat:3,dims:{x:2e3,y:500}}},this.viewportDiffX=0,this.createPlayer=this.createPlayer.bind(this),this.checkCollisions=this.checkCollisions.bind(this),this.countEnemies=this.countEnemies.bind(this),this.loadNextLevel=this.loadNextLevel.bind(this),this.levelLost=this.levelLost.bind(this),this.levelComplete=this.levelComplete.bind(this),this.resetMap=this.resetMap.bind(this),this.resetPlayer=this.resetPlayer.bind(this),this.setUpLevel=this.setUpLevel.bind(this)}add(t){if(t instanceof y)this.enemies.push(t);else if(t instanceof d)this.bullets.push(t);else if(t instanceof g)this.players.push(t);else{if(!(t instanceof x))throw new Error("unknown type of object");this.platforms.push(t)}}resetMap(){this.platforms=[],this.enemies=[],this.bullets=[]}resetPlayer(){let t=this.players[0];t.pos=[10,399],t.vel[1]=1}setUpLevel(){this.resetMap();let t=this.levels[this.currentLevel];this.DIM_X=t.dims.x,t.platforms.forEach(t=>{this.add(new x({pos:[t.pos[0],t.pos[1]],width:t.width,game:this})),console.log("added Platform")}),this.platforms.forEach(t=>{t.pos!=[0,w.DIM_Y-50]&&(console.log("added Enemy"),this.add(new y({platform:t,game:this})))}),this.resetPlayer()}levelComplete(){return 0===this.countEnemies()}levelLost(){return!this.players[0].alive}loadNextLevel(){this.currentLevel<4&&(this.currentLevel+=1,this.setUpLevel())}displayLossScreen(){document.getElementById("game-lost").classList.remove("hidden")}displayLevelComplete(){document.getElementById("level-complete").classList.remove("hidden")}displayGameComplete(){document.getElementById("game-complete").classList.remove("hidden")}countEnemies(){return this.enemies.length}createPlayer(){const t=new g({pos:[100,300],game:this});return this.add(t),t}step(t){this.moveObjects(t),this.movePlayer(t),this.checkCollisions()}movePlayer(t){this.players[0].move(t)}allObjects(){return[].concat(this.platforms,this.players,this.enemies,this.bullets)}allMovingObjects(){return[].concat(this.bullets,this.enemies)}checkCollisions(){let t=this.players[0];for(let t=0;t<this.bullets.length;t++)for(let e=0;e<this.enemies.length;e++){let i=this.bullets[t],s=this.enemies[e];i&&i.isCollidedWith(s)&&(this.defeatedEnemies.push(this.enemies.splice(e,1)),this.bullets.splice(t,1))}for(let e=0;e<this.enemies.length;e++){this.enemies[e].isCollidedWith(t)&&(t.alive=!1)}}draw(t){t.clearRect(0,0,this.DIM_X,w.DIM_Y),t.fillStyle=w.BG_COLOR,t.fillRect(0,0,this.DIM_X,w.DIM_Y),this.allObjects().forEach(e=>{e instanceof y&&!1===e.alive||e.draw(t)})}isOutOfBounds(t){return t[0]<0||t[1]<0||t[0]>this.DIM_X||t[1]>w.DIM_Y}moveObjects(t){this.allMovingObjects().forEach(e=>{e.move(t)})}remove(t){if(t instanceof d)this.bullets.splice(this.bullets.indexOf(t),1);else{if(!(t instanceof g))throw new Error("unknown type of object");this.players.splice(this.players.indexOf(t),1)}}}w.BG_COLOR="#003300",w.DIM_Y=500,w.FPS=32,w.NUM_ASTEROIDS=10;var b=w;class M{constructor(t,e){this.ctx=e,this.game=t,this.player=this.game.createPlayer(),this.game.setUpLevel(),this.bindKeyHandlers=this.bindKeyHandlers.bind(this),this.newGame=this.newGame.bind(this),this.start=this.start.bind(this),this.animate=this.animate.bind(this),this.determineXDiff=this.determineXDiff.bind(this),this.pause=!1}bindKeyHandlers(){const t=this.player;document.addEventListener("keydown",e=>{if(e.keyCode>=37&&e.keyCode<=40){let i=M.MOVES[e.keyCode];console.log("move",i),t.isMovingX=!0,t.playerMove(i)}}),document.addEventListener("keyup",e=>{37!==e.keyCode&&39!==e.keyCode||(t.isMovingX=!1)}),document.addEventListener("keydown",e=>{32===e.keyCode&&(console.log("fire bullet"),t.fireBullet())}),document.getElementById("pause").addEventListener("click",()=>{this.pause=!0}),document.getElementById("play").addEventListener("click",()=>{this.pause=!1}),document.getElementById("next-level").addEventListener("click",()=>{this.game.loadNextLevel(),document.getElementById("level-complete").classList.add("hidden"),this.start()}),document.getElementById("play-again").addEventListener("click",()=>{this.game.currentLevel=0,t.alive=!0,this.game.loadNextLevel(),document.getElementById("game-complete").classList.add("hidden"),this.start()}),document.getElementById("try-again").addEventListener("click",()=>{this.game.currentLevel=0,t.alive=!0,this.game.loadNextLevel(),document.getElementById("game-lost").classList.add("hidden"),this.start()}),document.getElementById("restart-l").addEventListener("click",()=>{t.facing=1,this.game.setUpLevel()}),document.getElementById("restart-g").addEventListener("click",()=>{this.game.currentLevel=1,t.facing=1,this.game.setUpLevel()})}updateUI(){document.querySelector("#level").innerHTML=this.game.currentLevel,document.querySelector("#enemies").innerHTML=this.game.countEnemies()}newGame(){this.bindKeyHandlers(),this.game.currentLevel=1,this.start()}start(){this.lastTime=0,requestAnimationFrame(this.animate.bind(this))}animate(t){if(this.game.levelLost())console.log("sorry, you lost"),this.game.displayLossScreen();else if(this.game.levelComplete())console.log("Congrats, onto the next level"),3===this.game.currentLevel?this.game.displayGameComplete():this.game.displayLevelComplete();else{const e=t-this.lastTime;!1===this.pause&&(this.game.step(e),this.game.viewportDiffX=this.determineXDiff(),this.game.draw(this.ctx),this.updateUI()),this.lastTime=t,requestAnimationFrame(this.animate.bind(this))}}determineXDiff(){return this.player.pos[0]<400?0:this.player.pos[0]>this.game.levels[this.game.currentLevel].dims.x-400?400-(this.game.levels[this.game.currentLevel].dims.x-400):400-this.player.pos[0]}}M.MOVES={38:[0,-1],37:[-1,0],40:[0,1],39:[1,0]};var I=M;document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("canvas").getContext("2d");window.ctx=t;const e=new b;document.getElementById("start").addEventListener("click",()=>{document.getElementById("start-screen").classList.add("hidden"),document.getElementById("canvas").classList.remove("hidden"),document.getElementById("game-meta-info").classList.remove("hidden"),new I(e,t).newGame()})})}]);
//# sourceMappingURL=bundle.8b13c84dd3e2cdfac71a.js.map